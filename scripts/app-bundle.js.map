{"version":3,"sources":["src/app.js","src/environment.js","src/main.js","src/show-tutorial.js","src/draw/canvas-container.js","src/draw/index.js","src/move-plus-add/add-box.js","src/move-plus-add/add-money.js","src/move-plus-add/box.js","src/move-plus-add/container.js","src/move-plus-add/index.js","src/move-plus-add/inline.js","src/order-list-with-fixed-item-height/index.js","src/order-list-with-fixed-item-height/inline.js","src/order-list-with-fixed-item-height/item.js","src/order-list-with-fixed-item-height/item2.js","src/order-list-with-fixed-item-height/list-container.js","src/order-list-with-fixed-item-height/list-container2.js","src/order-list-with-unknown-item-height/index.js","src/order-list-with-unknown-item-height/inline.js","src/order-list-with-unknown-item-height/item.js","src/order-list-with-unknown-item-height/item2.js","src/order-list-with-unknown-item-height/list-container.js","src/order-list-with-unknown-item-height/list-container2.js","src/order-table/index.js","src/order-table/inline.js","src/order-table/item.js","src/order-table/table-container.js","src/resources/index.js","src/simple-move/box.js","src/simple-move/container.js","src/simple-move/index.js","src/simple-move/inline.js","src/simple-move-hover-no-preview/box.js","src/simple-move-hover-no-preview/container.js","src/simple-move-hover-no-preview/index.js","src/simple-move-hover-no-preview-with-clock/box.js","src/simple-move-hover-no-preview-with-clock/container.js","src/simple-move-hover-no-preview-with-clock/index.js","src/simple-move-step-1/box.js","src/simple-move-step-1/container.js","src/simple-move-step-1/index.js","src/simple-move-step-2/box.js","src/simple-move-step-2/container.js","src/simple-move-step-2/index.js","src/tutorial/test-example.js","src/resources/attributes/if-not.js","src/resources/elements/display-source.js","src/resources/elements/display-sources.js","src/resources/elements/mark-down.js","src/resources/elements/show-mark-down-file.js","src/resources/value-converters/ends-with.js","src/resources/value-converters/nav-section.js"],"names":["App","configureRouter","config","router","title","map","route","name","nav","settings","section","trunks","moduleId","redirect","debug","testing","configure","aurelia","use","standardConfiguration","feature","plugin","start","then","setRoot","ShowTutorial","activate","params","routeConfig","determineActivationStrategy","replace","CanvasContainer","dndService","ea","shapes","selectedType","drawingTypes","value","label","attached","addSource","noPreview","addTarget","subscribers","subscribe","resetDrawingShape","detached","removeSource","removeTarget","forEach","s","dispose","drawingShape","dndModel","type","dndCanDrop","model","dndHover","location","mouseStartAt","targetElementRect","mouseEndAt","x","y","end","dnd","from","to","Math","min","width","abs","height","dndDrop","push","Index","sourceFilenames","AddBox","dndPreview","jq","get","AddMoney","centerPreviewToMousePosition","hideCursor","Box","id","item","dollars","left","top","isProcessing","canDrop","isHoveringShallowly","css","Container","items","resetIntention","previewElementRect","newLoc","idx","findIndex","newItem","splice","length","find","intention","patched","reject","Inline","Item","Item2","ListContainer","sourceElementRect","indexOf","newIdx","floor","fromIndex","toIndex","ListContainer2","updateIntention","targetId","beforeTarget","element","handler","fullEl","dndElement","clone","fulfillIntention","patchedItems","targetIndex","originalIndex","currentIndex","nextIndex","$","age","width1","first","TableContainer","globalResources","updateClock","bind","clockUpdator","setInterval","clearInterval","t","Date","clock","getHours","getMinutes","getSeconds","TestExample","IfNotCustomAttribute","valueChanged","newValue","DisplaySource","reloadContent","filenameChanged","fileContent","require","filename","content","DisplaySources","fullScreen","filenames","selected","MarkDown","converter","Converter","oldValue","html","makeHtml","ShowMarkDownFile","markdown","newFilename","EndsWithValueConverter","toView","str","subfix","endsWith","NavSectionValueConverter","navs","filter","n"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export class App {\n  configureRouter(config, router) {\n    this.router = router;\n\n    config.title = 'bcx-aurelia-dnd examples';\n    // config.options.pushState = true;\n    config.map([\n      {\n        route: 'overview', name: 'overview',\n        title: 'Overview',\n        nav: true,\n        settings: {\n          section: 'tutorial',\n          trunks: [\n            'tutorial/overview.md'\n          ]\n        },\n        moduleId: 'show-tutorial'\n      },\n      {\n        route: 'source-and-target', name: 'source-and-target',\n        title: 'Source and Target',\n        nav: true,\n        settings: {\n          section: 'tutorial',\n          trunks: [\n            'tutorial/source-and-target-part1.md',\n            'simple-move-step-1/index',\n            'tutorial/source-and-target-part2.md',\n            'simple-move-step-2/index',\n            'tutorial/source-and-target-part3.md',\n            'simple-move/inline',\n            'tutorial/source-and-target-part4.md'\n          ]\n        },\n        moduleId: 'show-tutorial'\n      },\n      {\n        route: 'customize-preview-and-hover', name: 'customize-preview-and-hover',\n        title: 'Customize preview and respond to dndHover',\n        nav: true,\n        settings: {\n          section: 'tutorial',\n          trunks: [\n            'tutorial/customize-preview-and-hover-part1.md',\n            'simple-move-hover-no-preview-with-clock/index',\n            'tutorial/customize-preview-and-hover-part2.md',\n            'move-plus-add/inline',\n            'tutorial/customize-preview-and-hover-part3.md',\n            'order-table/inline',\n            'tutorial/customize-preview-and-hover-part4.md'\n          ]\n        },\n        moduleId: 'show-tutorial'\n      },\n      {\n        route: 're-order-list', name: 're-order-list',\n        title: 'Re-order a list',\n        nav: true,\n        settings: {\n          section: 'tutorial',\n          trunks: [\n            'tutorial/re-order-list-part1.md',\n            'order-list-with-fixed-item-height/inline',\n            'tutorial/re-order-list-part2.md',\n            'order-list-with-unknown-item-height/inline',\n            'tutorial/re-order-list-part3.md'\n          ]\n        },\n        moduleId: 'show-tutorial'\n      },\n      {\n        route: 'testing', name: 'testing',\n        title: 'Testing',\n        nav: true,\n        settings: {\n          section: 'tutorial',\n          trunks: [\n            'tutorial/testing-part1.md',\n            'tutorial/test-example',\n            'tutorial/testing-part2.md'\n          ]\n        },\n        moduleId: 'show-tutorial'\n      },\n      {\n        route: 'dnd-service-reference', name: 'dnd-service-reference',\n        title: 'DndService',\n        nav: true,\n        settings: {\n          section: 'reference',\n          trunks: [\n            'tutorial/dnd-service-reference.md'\n          ]\n        },\n        moduleId: 'show-tutorial'\n      },\n      {\n        route: 'simple', name: 'simple',\n        title: '1. Move object',\n        nav: true,\n        settings: {section: 'examples'},\n        moduleId: 'simple-move/index'\n      },\n      {\n        route: 'simple-move-hover-no-preview', name: 'simple-move-hover-no-preview',\n        title: '2. Move object, no preview, use dndHover',\n        nav: true,\n        settings: {section: 'examples'},\n        moduleId: 'simple-move-hover-no-preview/index'\n      },\n      {\n        route: 'move-plus-add', name: 'move-plus-add',\n        title: '3. Move object, add object, customize preview',\n        nav: true,\n        settings: {section: 'examples'},\n        moduleId: 'move-plus-add/index'\n      },\n      {\n        route: 'draw', name: 'draw',\n        title: '4. Draw object',\n        nav: true,\n        settings: {section: 'examples'},\n        moduleId: 'draw/index'\n      },\n      {\n        route: 'order-simple', name: 'order-simple',\n        title: '5. Re-order list with fixed item height',\n        nav: true,\n        settings: {section: 'examples'},\n        moduleId: 'order-list-with-fixed-item-height/index'\n      },\n      {\n        route: 'order-flex', name: 'order-flex',\n        title: '6. Re-order list with unknown item height',\n        nav: true,\n        settings: {section: 'examples'},\n        moduleId: 'order-list-with-unknown-item-height/index'\n      },\n      {\n        route: 'order-table', name: 'order-table',\n        title: '7. Customize preview for <tr>',\n        nav: true,\n        settings: {section: 'examples'},\n        moduleId: 'order-table/index'\n      },\n      {\n        route: '',\n        redirect: 'overview'\n      }\n    ]);\n  }\n\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  // if (environment.debug) {\n  //   aurelia.use.developmentLogging();\n  // }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {activationStrategy} from 'aurelia-router';\n\nexport class ShowTutorial {\n  activate(params, routeConfig) {\n    this.trunks = routeConfig.settings.trunks;\n  }\n\n  determineActivationStrategy() {\n    return activationStrategy.replace;\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n@inject(DndService, EventAggregator)\nexport class CanvasContainer {\n  shapes = [];\n  drawingShape;\n\n  selectedType = 'drawLine';\n  drawingTypes = [\n    {value: 'drawLine', label: 'Line'},\n    {value: 'drawRect', label: 'Rectangular'}\n  ];\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n\n  attached() {\n    this.dndService.addSource(this, {noPreview: true});\n    this.dndService.addTarget(this);\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetDrawingShape()),\n      this.ea.subscribe('dnd:didEnd', () => this.resetDrawingShape())\n    ];\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n    this.dndService.removeTarget(this);\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  resetDrawingShape() {\n    this.drawingShape = null;\n  }\n\n  dndModel() {\n    return {type: this.selectedType};\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'drawLine' ||\n           model.type === 'drawRect';\n  }\n\n  dndHover(location) {\n    const {mouseStartAt, targetElementRect, mouseEndAt} = location;\n\n    const start = {\n      x: mouseStartAt.x - targetElementRect.x,\n      y: mouseStartAt.y - targetElementRect.y\n    };\n\n    const end = {\n      x: mouseEndAt.x - targetElementRect.x,\n      y: mouseEndAt.y - targetElementRect.y\n    };\n\n    if (this.dnd.model.type === 'drawLine') {\n      this.drawingShape = {type: 'line', from: start, to: end};\n    } else if (this.dnd.model.type === 'drawRect') {\n      const x = Math.min(start.x, end.x);\n      const y = Math.min(start.y, end.y);\n      const width = Math.abs(start.x - end.x);\n      const height = Math.abs(start.y - end.y);\n      this.drawingShape = {type: 'rect', x, y, width, height};\n    }\n  }\n\n  dndDrop() {\n    if (this.drawingShape) {\n      this.shapes.push(this.drawingShape);\n    }\n  }\n}\n","export class Index {\n  sourceFilenames = [\n    'src/draw/canvas-container.js',\n    'src/draw/canvas-container.html'\n  ]\n}\n","import {inject} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport $ from 'jquery';\n\n@inject(DndService)\nexport class AddBox {\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'addItem'\n    };\n  }\n\n  dndPreview() {\n    const jq = $(`\n      <div class=\"example-box\">new box</div>\n    `);\n    // style the dom if needed\n    // jq.css('width', '80px');\n    // jq.css('height', '40px');\n\n    return jq.get(0);\n  }\n\n}\n","import {inject} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport $ from 'jquery';\n\n@inject(DndService)\nexport class AddMoney {\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this, {centerPreviewToMousePosition: true, hideCursor: true});\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'addDollar'\n    };\n  }\n\n  dndPreview() {\n    const jq = $(`\n      <div class=\"dollar\"></div>\n    `);\n\n    return jq.get(0);\n  }\n\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Box {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this, {noPreview: true});\n    this.dndService.addTarget(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n    this.dndService.removeTarget(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'moveItem',\n      id: this.item.id\n    };\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'addDollar';\n  }\n\n  dndDrop() {\n    const {type} = this.dnd.model;\n\n    if (type === 'addDollar') {\n      this.item.dollars += 1;\n    }\n  }\n\n  @computedFrom('item', 'item.x', 'item.y')\n  get positionCss() {\n    const x = (this.item && this.item.x) || 0;\n    const y = (this.item && this.item.y) || 0;\n\n    return {\n      left: x + 'px',\n      top: y + 'px'\n    };\n  }\n\n  @computedFrom('dnd', 'dnd.model', 'dnd.isProcessing', 'dnd.canDrop', 'dnd.isHoveringShallowly')\n  get dndCss() {\n    if (!this.dnd) return '';\n    const {model, isProcessing, canDrop, isHoveringShallowly} = this.dnd;\n    if (!isProcessing) return '';\n    // no style if moving item\n    if (model.type === 'moveItem') return '';\n    let css = '';\n    if (canDrop) {\n      css += 'can-drop';\n    } else {\n      css += 'can-not-drop';\n    }\n    if (isHoveringShallowly) css += ' shallow-hover';\n    return css;\n  }\n}\n","import {inject, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport _ from 'lodash';\n\n@inject(DndService, EventAggregator)\nexport class Container {\n  items = [\n    {id: '0', dollars: 1, x: 20, y: 20},\n    {id: '1', dollars: 1, x: 50, y: 200},\n    {id: '2', dollars: 1, x: 200, y: 100}\n  ];\n\n  intention;\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetIntention()),\n      this.ea.subscribe('dnd:didEnd', () => this.resetIntention())\n    ];\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'moveItem' ||\n           model.type === 'addItem';\n  }\n\n  dndDrop(location) {\n    const {type, id} = this.dnd.model;\n    const {previewElementRect, targetElementRect} = location;\n    const newLoc = {\n      x: previewElementRect.x - targetElementRect.x,\n      y: previewElementRect.y - targetElementRect.y\n    };\n\n    if (type === 'moveItem') {\n      const idx = _.findIndex(this.items, {id});\n      if (idx < 0) return;\n\n      const newItem = {...this.items[idx], ...newLoc};\n\n      // replace old item with new item\n      // add new item to the end\n      this.items.splice(idx, 1);\n      this.items.push(newItem);\n    } else if (type === 'addItem') {\n      this.items.push({\n        id: '' + this.items.length,\n        dollars: 1,\n        ...newLoc\n      });\n    }\n  }\n\n  dndHover(location) {\n    const {type, id} = this.dnd.model;\n    const {previewElementRect, targetElementRect} = location;\n    const newLoc = {\n      x: previewElementRect.x - targetElementRect.x,\n      y: previewElementRect.y - targetElementRect.y\n    };\n\n    if (type === 'moveItem') {\n      const item = _.find(this.items, {id});\n      if (!item) return;\n\n      this.intention = {id, x: newLoc.x, y: newLoc.y};\n    }\n  }\n\n  resetIntention() {\n    this.intention = null;\n  }\n\n  @computedFrom('items', 'intention')\n  get patchedItems() {\n    const {items, intention} = this;\n    if (!intention) return items;\n\n    let patched = _.reject(items, {id: intention.id});\n    const item = _.find(this.items, {id: intention.id});\n\n    if (item) {\n      // always show current moving item on top\n      patched.push({...item, x: intention.x, y: intention.y});\n    }\n\n    return patched;\n  }\n\n  @computedFrom('dnd', 'dnd.model', 'dnd.isProcessing', 'dnd.canDrop', 'dnd.isHoveringShallowly')\n  get dndCss() {\n    if (!this.dnd) return '';\n    const {model, isProcessing, canDrop, isHoveringShallowly} = this.dnd;\n    if (!isProcessing) return '';\n    // no style if moving item\n    if (model.type === 'moveItem') return '';\n    let css = '';\n    if (canDrop) {\n      css += 'can-drop';\n    } else {\n      css += 'can-not-drop';\n    }\n    if (isHoveringShallowly) css += ' shallow-hover';\n    return css;\n  }\n}\n","export class Index {\n  sourceFilenames = [\n    'src/move-plus-add/container.js',\n    'src/move-plus-add/container.html',\n    'src/move-plus-add/container.css',\n    'src/move-plus-add/target-effect.css',\n    'src/move-plus-add/box.js',\n    'src/move-plus-add/box.html',\n    'src/move-plus-add/box.css',\n    'src/move-plus-add/add-box.js',\n    'src/move-plus-add/add-box.html',\n    'src/move-plus-add/add-source.css',\n    'src/move-plus-add/add-money.js',\n    'src/move-plus-add/add-money.html'\n  ]\n}\n","export class Inline {\n  sourceFilenames = [\n    'src/move-plus-add/container.js',\n    'src/move-plus-add/container.html',\n    'src/move-plus-add/container.css',\n    'src/move-plus-add/target-effect.css',\n    'src/move-plus-add/box.js',\n    'src/move-plus-add/box.html',\n    'src/move-plus-add/box.css',\n    'src/move-plus-add/add-box.js',\n    'src/move-plus-add/add-box.html',\n    'src/move-plus-add/add-source.css',\n    'src/move-plus-add/add-money.js',\n    'src/move-plus-add/add-money.html'\n  ]\n}\n","export class Index {\n  sourceFilenames = [\n    'src/order-list-with-fixed-item-height/list-container.js',\n    'src/order-list-with-fixed-item-height/list-container.html',\n    'src/order-list-with-fixed-item-height/list-container.css',\n    'src/order-list-with-fixed-item-height/item.js',\n    'src/order-list-with-fixed-item-height/item.html',\n    'src/order-list-with-fixed-item-height/item.css',\n    'src/order-list-with-fixed-item-height/list-container2.js',\n    'src/order-list-with-fixed-item-height/list-container2.html',\n    'src/order-list-with-fixed-item-height/item2.js',\n    'src/order-list-with-fixed-item-height/item2.html'\n  ]\n}\n","export class Inline {\n  sourceFilenames = [\n    'src/order-list-with-fixed-item-height/list-container.js',\n    'src/order-list-with-fixed-item-height/list-container.html',\n    'src/order-list-with-fixed-item-height/list-container.css',\n    'src/order-list-with-fixed-item-height/item.js',\n    'src/order-list-with-fixed-item-height/item.html',\n    'src/order-list-with-fixed-item-height/item.css',\n    'src/order-list-with-fixed-item-height/list-container2.js',\n    'src/order-list-with-fixed-item-height/list-container2.html',\n    'src/order-list-with-fixed-item-height/item2.js',\n    'src/order-list-with-fixed-item-height/item2.html'\n  ]\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Item {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'orderItem',\n      item: this.item\n    };\n  }\n\n  @computedFrom('item', 'dndService.isProcessing', 'dndService.model')\n  get draggingMe() {\n    const {item, dndService} = this;\n    return dndService.isProcessing &&\n           dndService.model.type === 'orderItem' &&\n           dndService.model.item === item;\n  }\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Item2 {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'orderItem2',\n      id: this.item.id\n    };\n  }\n\n  @computedFrom('item', 'dndService.isProcessing', 'dndService.model')\n  get draggingMe() {\n    const {item, dndService} = this;\n    return dndService.isProcessing &&\n           dndService.model.type === 'orderItem2' &&\n           dndService.model.id === item.id;\n  }\n}\n","import {inject, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n@inject(DndService, EventAggregator)\nexport class ListContainer {\n  items = ['first', 'second', 'third', 'fourth'];\n  intention;\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetIntention()),\n      this.ea.subscribe('dnd:didEnd', () => this.resetIntention())\n    ];\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  resetIntention() {\n    this.intention = null;\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'orderItem';\n  }\n\n  dndHover(location) {\n    const {mouseEndAt, sourceElementRect, targetElementRect} = location;\n    const y = mouseEndAt.y - targetElementRect.y;\n    const {item} = this.dnd.model;\n\n    const idx = this.items.indexOf(item);\n    if (idx < 0) return;\n\n    // we have zero margin between item elements.\n    // otherwise has to do (y / (margin + sourceElementRect.height))\n    const newIdx = Math.floor(y / sourceElementRect.height);\n    this.intention = {fromIndex: idx, toIndex: newIdx};\n  }\n\n  dndDrop() {\n    if (!this.intention) return;\n    const {fromIndex, toIndex} = this.intention;\n    if (fromIndex === toIndex) return;\n\n    const item = this.items[fromIndex];\n    this.items.splice(fromIndex, 1);\n    this.items.splice(toIndex, 0, item);\n  }\n\n  @computedFrom('items', 'intention')\n  get patchedItems() {\n    const {items, intention} = this;\n    if (!intention) return items;\n    const {fromIndex, toIndex} = this.intention;\n\n    let patched = [...items];\n    const item = this.items[fromIndex];\n    patched.splice(fromIndex, 1);\n    patched.splice(toIndex, 0, item);\n    return patched;\n  }\n}\n","import {inject, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport _ from 'lodash';\n\n@inject(DndService, EventAggregator)\nexport class ListContainer2 {\n  items = [\n    {id: '0', value: 'first'},\n    {id: '1', value: 'second'},\n    {id: '2', value: 'third'},\n    {id: '3', value: 'fourth'}\n  ];\n\n  intention;\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetIntention()),\n      this.ea.subscribe('dnd:didEnd', () => this.resetIntention())\n    ];\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  resetIntention() {\n    this.intention = null;\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'orderItem2';\n  }\n\n  dndHover(location) {\n    const {mouseEndAt, sourceElementRect, targetElementRect} = location;\n    const y = mouseEndAt.y - targetElementRect.y;\n    const {id} = this.dnd.model;\n\n    const idx = _.findIndex(this.items, {id});\n    if (idx < 0) return;\n\n    // we have zero margin between item elements.\n    // otherwise has to do (y / (margin + sourceElementRect.height))\n    const newIdx = Math.floor(y / sourceElementRect.height);\n    this.intention = {fromIndex: idx, toIndex: newIdx};\n  }\n\n  dndDrop() {\n    if (!this.intention) return;\n    const {fromIndex, toIndex} = this.intention;\n    if (fromIndex === toIndex) return;\n\n    const item = this.items[fromIndex];\n    this.items.splice(fromIndex, 1);\n    this.items.splice(toIndex, 0, item);\n  }\n\n  @computedFrom('items', 'intention')\n  get patchedItems() {\n    const {items, intention} = this;\n    if (!intention) return items;\n    const {fromIndex, toIndex} = this.intention;\n\n    let patched = [...items];\n    const item = this.items[fromIndex];\n    patched.splice(fromIndex, 1);\n    patched.splice(toIndex, 0, item);\n    return patched;\n  }\n}\n","export class Index {\n  sourceFilenames = [\n    'src/order-list-with-unknown-item-height/list-container.js',\n    'src/order-list-with-unknown-item-height/list-container.html',\n    'src/order-list-with-unknown-item-height/list-container.css',\n    'src/order-list-with-unknown-item-height/item.js',\n    'src/order-list-with-unknown-item-height/item.html',\n    'src/order-list-with-unknown-item-height/item.css',\n    'src/order-list-with-unknown-item-height/list-container2.js',\n    'src/order-list-with-unknown-item-height/list-container2.html',\n    'src/order-list-with-unknown-item-height/item2.js',\n    'src/order-list-with-unknown-item-height/item2.html'\n  ]\n}\n","export class Inline {\n  sourceFilenames = [\n    'src/order-list-with-unknown-item-height/list-container.js',\n    'src/order-list-with-unknown-item-height/list-container.html',\n    'src/order-list-with-unknown-item-height/list-container.css',\n    'src/order-list-with-unknown-item-height/item.js',\n    'src/order-list-with-unknown-item-height/item.html',\n    'src/order-list-with-unknown-item-height/item.css',\n    'src/order-list-with-unknown-item-height/list-container2.js',\n    'src/order-list-with-unknown-item-height/list-container2.html',\n    'src/order-list-with-unknown-item-height/item2.js',\n    'src/order-list-with-unknown-item-height/item2.html'\n  ]\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Item {\n  @bindable item;\n  @bindable updateIntention;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n    this.dndService.addTarget(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n    this.dndService.removeTarget(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'orderItemFlex',\n      id: this.item.id\n    };\n  }\n\n  // set canDrop true to receive dndHover, but do nothing in dndDrop\n  dndCanDrop(model) {\n    return model.type === 'orderItemFlex' && model.id !== this.item.id;\n  }\n\n  // no-op\n  dndDrop() {}\n\n  dndHover(location) {\n    const {mouseEndAt, targetElementRect} = location;\n    const y = mouseEndAt.y - targetElementRect.y;\n\n    // because of unknown size diff between items,\n    // check half size to avoid endless bouncing of swapping two items.\n    if (y < (targetElementRect.height / 2)) {\n      // hover over top half, user wants to move smth before this item.\n      this.updateIntention({targetId: this.item.id, beforeTarget: true});\n    } else {\n      // hover over bottom half, user wants to move smth after this item.\n      this.updateIntention({targetId: this.item.id, beforeTarget: false});\n    }\n  }\n\n  @computedFrom('item', 'dndService.isProcessing', 'dndService.model')\n  get draggingMe() {\n    const {item, dndService} = this;\n    return dndService.isProcessing &&\n           dndService.model.type === 'orderItemFlex' &&\n           dndService.model.id === item.id;\n  }\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport $ from 'jquery';\n\n@inject(DndService)\nexport class Item2 {\n  @bindable item;\n  @bindable updateIntention;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this, {element: this.handler});\n    this.dndService.addTarget(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this); // or this.dndService.removeSource(this.handler);\n    this.dndService.removeTarget(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'orderItemFlex2',\n      id: this.item.id\n    };\n  }\n\n  // default preview only clone the handler.\n  // we need more than handle in preview.\n  dndPreview() {\n    const fullEl = $(this.dndElement);\n    const jq = fullEl.clone();\n    jq.css('width', fullEl.css('width'));\n    jq.css('height', fullEl.css('height'));\n    return jq.get(0);\n  }\n\n  // set canDrop true to receive dndHover, but do nothing in dndDrop\n  dndCanDrop(model) {\n    return model.type === 'orderItemFlex2' && model.id !== this.item.id;\n  }\n\n  // noop\n  dndDrop() {\n  }\n\n  dndHover(location) {\n    const {mouseEndAt, targetElementRect} = location;\n    const y = mouseEndAt.y - targetElementRect.y;\n\n    // because of unknown size diff between items,\n    // check half size to avoid endless bouncing of swapping two items.\n    if (y < (targetElementRect.height / 2)) {\n      // hover over top half, user wants to move smth before this item.\n      this.updateIntention({targetId: this.item.id, beforeTarget: true});\n    } else {\n      // hover over bottom half, user wants to move smth after this item.\n      this.updateIntention({targetId: this.item.id, beforeTarget: false});\n    }\n  }\n\n  @computedFrom('item', 'dndService.isProcessing', 'dndService.model')\n  get draggingMe() {\n    const {item, dndService} = this;\n    return dndService.isProcessing &&\n           dndService.model.type === 'orderItemFlex2' &&\n           dndService.model.id === item.id;\n  }\n}\n","import {inject, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport _ from 'lodash';\n\n@inject(DndService, EventAggregator)\nexport class ListContainer {\n  items = [\n    {id: '0', value: 'lorem'},\n    {id: '1', value: 'Lorem ipsum dolor sit amet. consectetur adipisicing elit.'},\n    {id: '2', value: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eos, tempore.'},\n    {id: '3', value: 'Lorem ipsum dolor sit amet, consectetur.'}\n  ];\n\n  intention;\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n  attached() {\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetIntention()),\n      this.ea.subscribe('dnd:didEnd', () => this.fulfillIntention())\n    ];\n  }\n\n  detached() {\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  resetIntention() {\n    this.intention = null;\n  }\n\n  updateIntention(targetId, beforeTarget) {\n    const {isProcessing, model} = this.dndService;\n    if (!isProcessing) return;\n    if (model.type !== 'orderItemFlex') return;\n\n    const {patchedItems} = this;\n    const targetIndex = _.findIndex(patchedItems, {id: targetId});\n    if (targetIndex < 0) return;\n\n    let originalIndex;\n    let currentIndex;\n    let nextIndex;\n    if (this.intention) {\n      originalIndex = this.intention.fromIndex;\n      currentIndex = this.intention.toIndex;\n    } else {\n      originalIndex = _.findIndex(patchedItems, {id: model.id});\n      if (originalIndex < 0) return;\n      currentIndex = originalIndex;\n    }\n\n    if (currentIndex < targetIndex) {\n      // grabbed item is currently above target\n      if (beforeTarget) {\n        nextIndex = targetIndex - 1;\n      } else {\n        nextIndex = targetIndex;\n      }\n    } else /* if (currentIndex > targetIndex) */ { // no need to check, currentIndex never === targetIndex\n      // grabbed item is currently below target\n      if (beforeTarget) {\n        nextIndex = targetIndex;\n      } else {\n        nextIndex = targetIndex + 1;\n      }\n    }\n\n    this.intention = {\n      fromIndex: originalIndex,\n      toIndex: nextIndex\n    };\n  }\n\n  fulfillIntention() {\n    if (!this.intention) return;\n    const {fromIndex, toIndex} = this.intention;\n\n    this.resetIntention();\n    if (fromIndex === toIndex) return;\n\n    const item = this.items[fromIndex];\n    this.items.splice(fromIndex, 1);\n    this.items.splice(toIndex, 0, item);\n  }\n\n  @computedFrom('items', 'intention')\n  get patchedItems() {\n    const {items, intention} = this;\n    if (!intention) return items;\n    const {fromIndex, toIndex} = this.intention;\n\n    let patched = [...items];\n    const item = this.items[fromIndex];\n    patched.splice(fromIndex, 1);\n    patched.splice(toIndex, 0, item);\n    return patched;\n  }\n}\n","import {inject, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport _ from 'lodash';\n\n@inject(DndService, EventAggregator)\nexport class ListContainer2 {\n  items = [\n    {id: '0', value: 'lorem'},\n    {id: '1', value: 'Lorem ipsum dolor sit amet. consectetur adipisicing elit.'},\n    {id: '2', value: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eos, tempore.'},\n    {id: '3', value: 'Lorem ipsum dolor sit amet, consectetur.'}\n  ];\n\n  intention;\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n  attached() {\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetIntention()),\n      this.ea.subscribe('dnd:didEnd', () => this.fulfillIntention())\n    ];\n  }\n\n  detached() {\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  resetIntention() {\n    this.intention = null;\n  }\n\n  updateIntention(targetId, beforeTarget) {\n    const {isProcessing, model} = this.dndService;\n    if (!isProcessing) return;\n    if (model.type !== 'orderItemFlex2') return;\n\n    const {patchedItems} = this;\n    const targetIndex = _.findIndex(patchedItems, {id: targetId});\n    if (targetIndex < 0) return;\n\n    let originalIndex;\n    let currentIndex;\n    let nextIndex;\n    if (this.intention) {\n      originalIndex = this.intention.fromIndex;\n      currentIndex = this.intention.toIndex;\n    } else {\n      originalIndex = _.findIndex(patchedItems, {id: model.id});\n      if (originalIndex < 0) return;\n      currentIndex = originalIndex;\n    }\n\n    if (currentIndex < targetIndex) {\n      // grabbed item is currently above target\n      if (beforeTarget) {\n        nextIndex = targetIndex - 1;\n      } else {\n        nextIndex = targetIndex;\n      }\n    } else /* if (currentIndex > targetIndex) */ { // no need to check, currentIndex never === targetIndex\n      // grabbed item is currently below target\n      if (beforeTarget) {\n        nextIndex = targetIndex;\n      } else {\n        nextIndex = targetIndex + 1;\n      }\n    }\n\n    this.intention = {\n      fromIndex: originalIndex,\n      toIndex: nextIndex\n    };\n  }\n\n  fulfillIntention() {\n    if (!this.intention) return;\n    const {fromIndex, toIndex} = this.intention;\n\n    this.resetIntention();\n    if (fromIndex === toIndex) return;\n\n    const item = this.items[fromIndex];\n    this.items.splice(fromIndex, 1);\n    this.items.splice(toIndex, 0, item);\n  }\n\n  @computedFrom('items', 'intention')\n  get patchedItems() {\n    const {items, intention} = this;\n    if (!intention) return items;\n    const {fromIndex, toIndex} = this.intention;\n\n    let patched = [...items];\n    const item = this.items[fromIndex];\n    patched.splice(fromIndex, 1);\n    patched.splice(toIndex, 0, item);\n    return patched;\n  }\n}\n","export class Index {\n  sourceFilenames = [\n    'src/order-table/table-container.js',\n    'src/order-table/table-container.html',\n    'src/order-table/table-container.css',\n    'src/order-table/item.js',\n    'src/order-table/item.html'\n  ]\n}\n","export class Inline {\n  sourceFilenames = [\n    'src/order-table/item.js',\n    'src/order-table/item.html',\n    'src/order-table/table-container.js',\n    'src/order-table/table-container.html',\n    'src/order-table/table-container.css'\n  ]\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Item {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'orderItem',\n      item: this.item\n    };\n  }\n\n  dndPreview(model) {\n    // can access the item on model.item or this.item\n\n    // when building html by string, to be safe, better to\n    // use jquery $('<td><td>').text(this.item.name).\n    // Not demonstrated here.\n    const jq = $(`\n      <table class=\"table-container\">\n        <tr>\n          <td>${this.item.name}</td>\n          <td>${this.item.age}</td>\n        </tr>\n      </table>\n    `);\n\n    // table.table-container has width: 100%;\n    // we need to fix the width of preview\n\n    // get calculated width of source element\n    const width = $(this.dndElement).css('width');\n    // fix preview width\n    jq.css('width', width);\n\n    // if you want to make every columns perfect.\n    // here is for first column\n    const width1 = $(this.dndElement).find('td').first().css('width');\n    jq.find('td').first().css('width', width1);\n\n    return jq.get(0);\n  }\n\n  @computedFrom('item', 'dndService.isProcessing', 'dndService.model')\n  get draggingMe() {\n    const {item, dndService} = this;\n    return dndService.isProcessing &&\n           dndService.model.type === 'orderItem' &&\n           dndService.model.item === item;\n  }\n}\n","import {inject, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n@inject(DndService, EventAggregator)\nexport class TableContainer {\n  items = [\n    {name: 'Bob', age: 23},\n    {name: 'Ali', age: 37},\n    {name: 'Tom', age: 12},\n    {name: 'Emma', age: 18}\n  ];\n\n  intention;\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetIntention()),\n      this.ea.subscribe('dnd:didEnd', () => this.resetIntention())\n    ];\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  resetIntention() {\n    this.intention = null;\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'orderItem';\n  }\n\n  dndHover(location) {\n    const {mouseEndAt, sourceElementRect, targetElementRect} = location;\n    const y = mouseEndAt.y - targetElementRect.y;\n    const {item} = this.dnd.model;\n\n    const idx = this.items.indexOf(item);\n    if (idx < 0) return;\n\n    // we have zero margin between item elements.\n    // otherwise has to do (y / (margin + sourceElementRect.height))\n    const newIdx = Math.floor(y / sourceElementRect.height);\n    this.intention = {fromIndex: idx, toIndex: newIdx};\n  }\n\n  dndDrop() {\n    if (!this.intention) return;\n    const {fromIndex, toIndex} = this.intention;\n    if (fromIndex === toIndex) return;\n\n    const item = this.items[fromIndex];\n    this.items.splice(fromIndex, 1);\n    this.items.splice(toIndex, 0, item);\n  }\n\n  @computedFrom('items', 'intention')\n  get patchedItems() {\n    const {items, intention} = this;\n    if (!intention) return items;\n    const {fromIndex, toIndex} = this.intention;\n\n    let patched = [...items];\n    const item = this.items[fromIndex];\n    patched.splice(fromIndex, 1);\n    patched.splice(toIndex, 0, item);\n    return patched;\n  }\n}\n","export function configure(config) {\n  config.globalResources([\n    './elements/display-source',\n    './elements/display-sources',\n    './elements/mark-down',\n    './elements/show-mark-down-file',\n    './value-converters/nav-section',\n    './value-converters/ends-with',\n    './attributes/if-not'\n  ]);\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Box {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'moveItem',\n      item: this.item\n    };\n  }\n\n  @computedFrom('item', 'item.x', 'item.y')\n  get positionCss() {\n    const x = (this.item && this.item.x) || 0;\n    const y = (this.item && this.item.y) || 0;\n\n    return {\n      left: x + 'px',\n      top: y + 'px'\n    };\n  }\n\n  @computedFrom('dndService.isProcessing', 'dndService.model')\n  get draggingMe() {\n    return this.dndService.isProcessing &&\n           this.dndService.model.item === this.item;\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Container {\n  items = [\n    {name: 'A', x: 20, y: 20},\n    {name: 'B', x: 50, y: 200},\n    {name: 'C', x: 200, y: 100}\n  ];\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'moveItem';\n  }\n\n  dndDrop(location) {\n    const {item} = this.dnd.model;\n    const {previewElementRect, targetElementRect} = location;\n    const newLoc = {\n      x: previewElementRect.x - targetElementRect.x,\n      y: previewElementRect.y - targetElementRect.y\n    };\n    item.x = newLoc.x;\n    item.y = newLoc.y;\n\n    // move the item to end of array, in order to show it above others\n    const idx = this.items.indexOf(item);\n    if (idx >= 0) {\n      this.items.splice(idx, 1);\n      this.items.push(item);\n    }\n  }\n}\n","export class Index {\n  sourceFilenames = [\n    'src/simple-move/container.js',\n    'src/simple-move/container.html',\n    'src/simple-move/container.css',\n    'src/simple-move/box.js',\n    'src/simple-move/box.html',\n    'src/simple-move/box.css'\n  ]\n}\n","export class Inline {\n  sourceFilenames = [\n    'src/simple-move/container.js',\n    'src/simple-move/container.html',\n    'src/simple-move/container.css',\n    'src/simple-move/box.js',\n    'src/simple-move/box.html',\n    'src/simple-move/box.css'\n  ]\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Box {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this, {noPreview: true});\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'moveItem',\n      id: this.item.id\n    };\n  }\n\n  @computedFrom('item', 'item.x', 'item.y')\n  get positionCss() {\n    const x = (this.item && this.item.x) || 0;\n    const y = (this.item && this.item.y) || 0;\n\n    return {\n      left: x + 'px',\n      top: y + 'px'\n    };\n  }\n}\n","import {inject, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport _ from 'lodash';\n\n@inject(DndService, EventAggregator)\nexport class Container {\n  items = [\n    {id: 'a', name: 'A', x: 20, y: 20},\n    {id: 'b', name: 'B', x: 50, y: 200},\n    {id: 'c', name: 'C', x: 200, y: 100}\n  ];\n\n  intention;\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetIntention()),\n      this.ea.subscribe('dnd:didEnd', () => this.resetIntention())\n    ];\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'moveItem';\n  }\n\n  dndDrop() {\n    const {items, intention} = this;\n    if (!intention) return;\n\n    const idx = _.findIndex(items, {id: intention.id});\n\n    if (idx >= 0) {\n      const item = items[idx];\n      items.splice(idx, 1);\n      // always show current moving item on top\n      items.push({...item, x: intention.x, y: intention.y});\n    }\n  }\n\n  dndHover(location) {\n    const {id} = this.dnd.model;\n    const {previewElementRect, targetElementRect} = location;\n    const newLoc = {\n      x: previewElementRect.x - targetElementRect.x,\n      y: previewElementRect.y - targetElementRect.y\n    };\n\n    const item = _.find(this.items, {id});\n    if (!item) return;\n\n    this.intention = {id, x: newLoc.x, y: newLoc.y};\n  }\n\n  resetIntention() {\n    this.intention = null;\n  }\n\n  @computedFrom('items', 'intention')\n  get patchedItems() {\n    const {items, intention} = this;\n    if (!intention) return items;\n\n    let patched = _.reject(items, {id: intention.id});\n    const item = _.find(this.items, {id: intention.id});\n\n    if (item) {\n      // always show current moving item on top\n      patched.push({...item, x: intention.x, y: intention.y});\n    }\n\n    return patched;\n  }\n}\n","export class Index {\n  sourceFilenames = [\n    'src/simple-move-hover-no-preview/container.js',\n    'src/simple-move-hover-no-preview/container.html',\n    'src/simple-move-hover-no-preview/container.css',\n    'src/simple-move-hover-no-preview/box.js',\n    'src/simple-move-hover-no-preview/box.html',\n    'src/simple-move-hover-no-preview/box.css'\n  ]\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Box {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n    this.updateClock = this.updateClock.bind(this);\n    this.updateClock();\n  }\n\n  attached() {\n    this.dndService.addSource(this, {noPreview: true});\n    this.clockUpdator = setInterval(this.updateClock, 1000);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n    if (this.clockUpdator) {\n      clearInterval(this.clockUpdator);\n      this.clockUpdator = null;\n    }\n  }\n\n  updateClock() {\n    const t = new Date();\n    this.clock = t.getHours() + ':' + t.getMinutes() + ':' + t.getSeconds();\n  }\n\n  dndModel() {\n    return {\n      type: 'moveItem',\n      id: this.item.id\n    };\n  }\n\n  @computedFrom('item', 'item.x', 'item.y')\n  get positionCss() {\n    const x = (this.item && this.item.x) || 0;\n    const y = (this.item && this.item.y) || 0;\n\n    return {\n      left: x + 'px',\n      top: y + 'px'\n    };\n  }\n}\n","import {inject, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport _ from 'lodash';\n\n@inject(DndService, EventAggregator)\nexport class Container {\n  items = [\n    {id: 'a', name: 'A', x: 20, y: 20},\n    {id: 'b', name: 'B', x: 50, y: 200},\n    {id: 'c', name: 'C', x: 200, y: 100}\n  ];\n\n  intention;\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetIntention()),\n      this.ea.subscribe('dnd:didEnd', () => this.resetIntention())\n    ];\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'moveItem';\n  }\n\n  dndDrop() {\n    const {items, intention} = this;\n    if (!intention) return;\n\n    const idx = _.findIndex(items, {id: intention.id});\n\n    if (idx >= 0) {\n      const item = items[idx];\n      items.splice(idx, 1);\n      // always show current moving item on top\n      items.push({...item, x: intention.x, y: intention.y});\n    }\n  }\n\n  dndHover(location) {\n    const {id} = this.dnd.model;\n    const {previewElementRect, targetElementRect} = location;\n    const newLoc = {\n      x: previewElementRect.x - targetElementRect.x,\n      y: previewElementRect.y - targetElementRect.y\n    };\n\n    const item = _.find(this.items, {id});\n    if (!item) return;\n\n    this.intention = {id, x: newLoc.x, y: newLoc.y};\n  }\n\n  resetIntention() {\n    this.intention = null;\n  }\n\n  @computedFrom('items', 'intention')\n  get patchedItems() {\n    const {items, intention} = this;\n    if (!intention) return items;\n\n    let patched = _.reject(items, {id: intention.id});\n    const item = _.find(this.items, {id: intention.id});\n\n    if (item) {\n      // always show current moving item on top\n      patched.push({...item, x: intention.x, y: intention.y});\n    }\n\n    return patched;\n  }\n}\n","export class Index {\n  sourceFilenames = [\n    'src/simple-move-hover-no-preview-with-clock/container.js',\n    'src/simple-move-hover-no-preview-with-clock/container.html',\n    'src/simple-move-hover-no-preview-with-clock/container.css',\n    'src/simple-move-hover-no-preview-with-clock/box.js',\n    'src/simple-move-hover-no-preview-with-clock/box.html',\n    'src/simple-move-hover-no-preview-with-clock/box.css'\n  ]\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Box {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'moveItem',\n      item: this.item\n    };\n  }\n\n  @computedFrom('item', 'item.x', 'item.y')\n  get positionCss() {\n    const x = (this.item && this.item.x) || 0;\n    const y = (this.item && this.item.y) || 0;\n\n    return {\n      left: x + 'px',\n      top: y + 'px'\n    };\n  }\n}\n","export class Container {\n  items = [\n    {name: 'A', x: 20, y: 20},\n    {name: 'B', x: 50, y: 200},\n    {name: 'C', x: 200, y: 100}\n  ];\n}\n","export class Index {\n  sourceFilenames = [\n    'src/simple-move-step-1/container.js',\n    'src/simple-move-step-1/container.html',\n    'src/simple-move-step-1/container.css',\n    'src/simple-move-step-1/box.js',\n    'src/simple-move-step-1/box.html',\n    'src/simple-move-step-1/box.css'\n  ]\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Box {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'moveItem',\n      item: this.item\n    };\n  }\n\n  @computedFrom('item', 'item.x', 'item.y')\n  get positionCss() {\n    const x = (this.item && this.item.x) || 0;\n    const y = (this.item && this.item.y) || 0;\n\n    return {\n      left: x + 'px',\n      top: y + 'px'\n    };\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Container {\n  items = [\n    {name: 'A', x: 20, y: 20},\n    {name: 'B', x: 50, y: 200},\n    {name: 'C', x: 200, y: 100}\n  ];\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'moveItem';\n  }\n\n  dndDrop(location) {\n    const {item} = this.dnd.model;\n    const {previewElementRect, targetElementRect} = location;\n    const newLoc = {\n      x: previewElementRect.x - targetElementRect.x,\n      y: previewElementRect.y - targetElementRect.y\n    };\n    item.x = newLoc.x;\n    item.y = newLoc.y;\n\n    // move the item to end of array, in order to show it above others\n    const idx = this.items.indexOf(item);\n    if (idx >= 0) {\n      this.items.splice(idx, 1);\n      this.items.push(item);\n    }\n  }\n}\n","export class Index {\n  sourceFilenames = [\n    'src/simple-move-step-2/container.js',\n    'src/simple-move-step-2/container.html',\n    'src/simple-move-step-2/container.css',\n    'src/simple-move-step-2/box.js',\n    'src/simple-move-step-2/box.html',\n    'src/simple-move-step-2/box.css'\n  ]\n}\n","export class TestExample {\n  sourceFilenames = [\n    'test/simple-move-hover-no-preview/container.spec.js',\n    'test/simple-move-hover-no-preview/box.spec.js',\n    'test/setup.js'\n  ]\n}\n","import {templateController} from 'aurelia-templating';\nimport {If} from 'aurelia-templating-resources';\n\n@templateController\nexport class IfNotCustomAttribute extends If {\n  valueChanged(newValue) {\n    super.valueChanged(!newValue);\n  }\n}\n","import {bindable} from 'aurelia-framework';\n\nexport class DisplaySource {\n  @bindable filename;\n  fileContent;\n\n  bind() {\n    this.reloadContent();\n  }\n\n  filenameChanged() {\n    this.reloadContent();\n  }\n\n  reloadContent() {\n    this.fileContent = null;\n    require([`text!../${this.filename}`], content => this.fileContent = content);\n  }\n\n}\n","import {bindable} from 'aurelia-framework';\n\nexport class DisplaySources {\n  @bindable filenames;\n  selected;\n  fullScreen = false;\n\n  bind() {\n    if (this.filenames && this.filenames.length) {\n      this.selected = this.filenames[0];\n    }\n  }\n}\n","import {bindable} from 'aurelia-framework';\nimport showdown from 'showdown';\n\nexport class MarkDown {\n  @bindable value;\n\n  constructor() {\n    this.converter = new showdown.Converter();\n  }\n\n  valueChanged(newValue, oldValue) {\n    this.html = this.converter.makeHtml(newValue);\n  }\n}\n\n","import {bindable} from 'aurelia-framework';\n\nexport class ShowMarkDownFile {\n  @bindable filename;\n  markdown = '';\n\n  bind() {\n    this.reloadContent(this.filename);\n  }\n\n  filenameChanged(newFilename) {\n    this.reloadContent(newFilename);\n  }\n\n  reloadContent(filename) {\n    this.markdown = '';\n    require([`text!${filename}`], content => this.markdown = content);\n  }\n}\n","import _ from 'lodash';\n\nexport class EndsWithValueConverter {\n  toView(str, subfix) {\n    return _.endsWith(str, subfix);\n  }\n}\n\n","import _ from 'lodash';\n\nexport class NavSectionValueConverter {\n  toView(navs, section) {\n    return _.filter(navs, n => _.get(n, 'settings.section') === section);\n  }\n\n}\n\n"],"sourceRoot":".."}