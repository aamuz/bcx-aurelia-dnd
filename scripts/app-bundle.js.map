{"version":3,"sources":["src/app.js","src/environment.js","src/main.js","src/show-tutorial.js","src/draw/canvas-container.js","src/draw/index.js","src/move-plus-add/add-box.js","src/move-plus-add/add-money.js","src/move-plus-add/box.js","src/move-plus-add/container.js","src/move-plus-add/index.js","src/order-list-with-fixed-item-height/index.js","src/order-list-with-fixed-item-height/item.js","src/order-list-with-fixed-item-height/item2.js","src/order-list-with-fixed-item-height/list-container.js","src/order-list-with-fixed-item-height/list-container2.js","src/resources/index.js","src/simple-move/box.js","src/simple-move/container.js","src/simple-move/index.js","src/simple-move-hover-no-preview/box.js","src/simple-move-hover-no-preview/container.js","src/simple-move-hover-no-preview/index.js","src/resources/elements/display-source.js","src/resources/elements/display-sources.js","src/resources/elements/mark-down.js","src/resources/elements/show-mark-down-file.js","src/resources/value-converters/nav-section.js"],"names":["App","configureRouter","config","router","title","map","route","name","nav","settings","section","moduleId","redirect","debug","testing","configure","aurelia","use","standardConfiguration","feature","plugin","start","then","setRoot","ShowTutorial","activate","params","routeConfig","filename","determineActivationStrategy","replace","CanvasContainer","dndService","ea","shapes","selectedType","drawingTypes","value","label","attached","addSource","noPreview","addTarget","subscribers","subscribe","resetDrawingShape","detached","removeSource","removeTarget","forEach","s","dispose","drawingShape","dndModel","type","dndCanDrop","model","dndHover","location","mouseStartPointPageOffset","targetElementPageOffset","mouseEndPointOffsetInTargetElement","x","y","end","dnd","from","to","Math","min","width","abs","height","dndDrop","push","Index","sourceFilenames","AddBox","dndPreview","jq","get","AddMoney","centerPreviewToMousePosition","hideCursor","Box","id","item","dollars","left","top","isProcessing","canDrop","isHoveringShallowly","css","Container","items","resetIntention","newLoc","previewElementOffsetInTargetElement","idx","findIndex","newItem","splice","length","find","intention","patched","reject","Item","elementHeight","dndElement","Item2","ListContainer","indexOf","newIdx","floor","fromIndex","toIndex","ListContainer2","globalResources","DisplaySource","bind","reloadContent","filenameChanged","fileContent","require","content","DisplaySources","filenames","selected","MarkDown","converter","Converter","valueChanged","newValue","oldValue","html","makeHtml","ShowMarkDownFile","markdown","newFilename","NavSectionValueConverter","toView","navs","filter","n"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export class App {\n  configureRouter(config, router) {\n    this.router = router;\n\n    config.title = 'bcx-aurelia-dnd examples';\n    // config.options.pushState = true;\n    config.map([\n      {\n        route: 'tutorial/overview.md', name: 'overview',\n        title: 'Overview',\n        nav: true,\n        settings: {section: 'tutorial'},\n        moduleId: 'show-tutorial'\n      },\n      {\n        route: 'tutorial/source-and-target.md', name: 'source-and-target',\n        title: 'Source and Target',\n        nav: true,\n        settings: {section: 'tutorial'},\n        moduleId: 'show-tutorial'\n      },\n      {\n        route: 'tutorial/testing.md', name: 'testing',\n        title: 'Testing',\n        nav: true,\n        settings: {section: 'tutorial'},\n        moduleId: 'show-tutorial'\n      },\n      {\n        route: 'simple', name: 'simple',\n        title: 'Move object',\n        nav: true,\n        settings: {section: 'examples'},\n        moduleId: 'simple-move/index'\n      },\n      {\n        route: 'simple-move-hover-no-preview', name: 'simple-move-hover-no-preview',\n        title: 'Move object, no preview, use dndHover',\n        nav: true,\n        settings: {section: 'examples'},\n        moduleId: 'simple-move-hover-no-preview/index'\n      },\n      {\n        route: 'move-plus-add', name: 'move-plus-add',\n        title: 'Move object, add object, customize preview',\n        nav: true,\n        settings: {section: 'examples'},\n        moduleId: 'move-plus-add/index'\n      },\n      {\n        route: 'draw', name: 'draw',\n        title: 'Draw object',\n        nav: true,\n        settings: {section: 'examples'},\n        moduleId: 'draw/index'\n      },\n      {\n        route: 'order-simple', name: 'order-simple',\n        title: 'Order list with fixed item height',\n        nav: true,\n        settings: {section: 'examples'},\n        moduleId: 'order-list-with-fixed-item-height/index'\n      },\n      {\n        route: '',\n        redirect: 'tutorial/overview.md'\n      }\n    ]);\n  }\n\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  // if (environment.debug) {\n  //   aurelia.use.developmentLogging();\n  // }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {activationStrategy} from 'aurelia-router';\n\nexport class ShowTutorial {\n  activate(params, routeConfig) {\n    this.filename = routeConfig.route;\n  }\n\n  determineActivationStrategy() {\n    return activationStrategy.replace;\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n@inject(DndService, EventAggregator)\nexport class CanvasContainer {\n  shapes = [];\n  drawingShape;\n\n  selectedType = 'drawLine';\n  drawingTypes = [\n    {value: 'drawLine', label: 'Line'},\n    {value: 'drawRect', label: 'Rectangular'}\n  ];\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n\n  attached() {\n    this.dndService.addSource(this, {noPreview: true});\n    this.dndService.addTarget(this);\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetDrawingShape()),\n      this.ea.subscribe('dnd:didEnd', () => this.resetDrawingShape())\n    ];\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n    this.dndService.removeTarget(this);\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  resetDrawingShape() {\n    this.drawingShape = null;\n  }\n\n  dndModel() {\n    return {type: this.selectedType};\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'drawLine' ||\n           model.type === 'drawRect';\n  }\n\n  dndHover(location) {\n    const {mouseStartPointPageOffset,\n           targetElementPageOffset,\n           mouseEndPointOffsetInTargetElement} = location;\n\n    const start = {\n      x: mouseStartPointPageOffset.x - targetElementPageOffset.x,\n      y: mouseStartPointPageOffset.y - targetElementPageOffset.y\n    };\n\n    const end = mouseEndPointOffsetInTargetElement;\n\n    if (this.dnd.model.type === 'drawLine') {\n      this.drawingShape = {type: 'line', from: start, to: end};\n    } else if (this.dnd.model.type === 'drawRect') {\n      const x = Math.min(start.x, end.x);\n      const y = Math.min(start.y, end.y);\n      const width = Math.abs(start.x - end.x);\n      const height = Math.abs(start.y - end.y);\n      this.drawingShape = {type: 'rect', x, y, width, height};\n    }\n  }\n\n  dndDrop() {\n    if (this.drawingShape) {\n      this.shapes.push(this.drawingShape);\n    }\n  }\n}\n","export class Index {\n  sourceFilenames = [\n    'src/draw/canvas-container.js',\n    'src/draw/canvas-container.html'\n  ]\n}\n","import {inject} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport $ from 'jquery';\n\n@inject(DndService)\nexport class AddBox {\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'addItem'\n    };\n  }\n\n  dndPreview() {\n    const jq = $(`\n      <div class=\"example-box\">new box</div>\n    `);\n    // style the dom if needed\n    // jq.css('width', '80px');\n    // jq.css('height', '40px');\n\n    return jq.get(0);\n  }\n\n}\n","import {inject} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport $ from 'jquery';\n\n@inject(DndService)\nexport class AddMoney {\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this, {centerPreviewToMousePosition: true, hideCursor: true});\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'addDollar'\n    };\n  }\n\n  dndPreview() {\n    const jq = $(`\n      <div class=\"dollar\"></div>\n    `);\n\n    return jq.get(0);\n  }\n\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Box {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this, {noPreview: true});\n    this.dndService.addTarget(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n    this.dndService.removeTarget(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'moveItem',\n      id: this.item.id\n    };\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'addDollar';\n  }\n\n  dndDrop() {\n    const {type} = this.dnd.model;\n\n    if (type === 'addDollar') {\n      this.item.dollars += 1;\n    }\n  }\n\n  @computedFrom('item', 'item.x', 'item.y')\n  get positionCss() {\n    const x = (this.item && this.item.x) || 0;\n    const y = (this.item && this.item.y) || 0;\n\n    return {\n      left: x + 'px',\n      top: y + 'px'\n    };\n  }\n\n  @computedFrom('dnd', 'dnd.model', 'dnd.isProcessing', 'dnd.canDrop', 'dnd.isHoveringShallowly')\n  get dndCss() {\n    if (!this.dnd) return '';\n    const {model, isProcessing, canDrop, isHoveringShallowly} = this.dnd;\n    if (!isProcessing) return '';\n    // no style if moving item\n    if (model.type === 'moveItem') return '';\n    let css = '';\n    if (canDrop) {\n      css += 'can-drop';\n    } else {\n      css += 'can-not-drop';\n    }\n    if (isHoveringShallowly) css += ' shallow-hover';\n    return css;\n  }\n}\n","import {inject, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport _ from 'lodash';\n\n@inject(DndService, EventAggregator)\nexport class Container {\n  items = [\n    {id: '0', dollars: 1, x: 20, y: 20},\n    {id: '1', dollars: 1, x: 50, y: 200},\n    {id: '2', dollars: 1, x: 200, y: 100}\n  ];\n\n  intention;\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetIntention()),\n      this.ea.subscribe('dnd:didEnd', () => this.resetIntention())\n    ];\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'moveItem' ||\n           model.type === 'addItem';\n  }\n\n  dndDrop(location) {\n    const {type, id} = this.dnd.model;\n    // newLoc has 'x' and 'y'\n    const newLoc = location.previewElementOffsetInTargetElement;\n\n    if (type === 'moveItem') {\n      const idx = _.findIndex(this.items, {id});\n      if (idx < 0) return;\n\n      const newItem = {...this.items[idx], ...newLoc};\n\n      // replace old item with new item\n      // add new item to the end\n      this.items.splice(idx, 1);\n      this.items.push(newItem);\n    } else if (type === 'addItem') {\n      this.items.push({\n        id: '' + this.items.length,\n        dollars: 1,\n        ...newLoc\n      });\n    }\n  }\n\n  dndHover(location) {\n    const {type, id} = this.dnd.model;\n    const newLoc = location.previewElementOffsetInTargetElement;\n\n    if (type === 'moveItem') {\n      const item = _.find(this.items, {id});\n      if (!item) return;\n\n      this.intention = {id, x: newLoc.x, y: newLoc.y};\n    }\n  }\n\n  resetIntention() {\n    this.intention = null;\n  }\n\n  @computedFrom('items', 'intention')\n  get patchedItems() {\n    const {items, intention} = this;\n    if (!intention) return items;\n\n    let patched = _.reject(items, {id: intention.id});\n    const item = _.find(this.items, {id: intention.id});\n\n    if (item) {\n      // always show current moving item on top\n      patched.push({...item, x: intention.x, y: intention.y});\n    }\n\n    return patched;\n  }\n\n  @computedFrom('dnd', 'dnd.model', 'dnd.isProcessing', 'dnd.canDrop', 'dnd.isHoveringShallowly')\n  get dndCss() {\n    if (!this.dnd) return '';\n    const {model, isProcessing, canDrop, isHoveringShallowly} = this.dnd;\n    if (!isProcessing) return '';\n    // no style if moving item\n    if (model.type === 'moveItem') return '';\n    let css = '';\n    if (canDrop) {\n      css += 'can-drop';\n    } else {\n      css += 'can-not-drop';\n    }\n    if (isHoveringShallowly) css += ' shallow-hover';\n    return css;\n  }\n}\n","export class Index {\n  sourceFilenames = [\n    'src/move-plus-add/container.js',\n    'src/move-plus-add/container.html',\n    'src/move-plus-add/container.css',\n    'src/move-plus-add/target-effect.css',\n    'src/move-plus-add/box.js',\n    'src/move-plus-add/box.html',\n    'src/move-plus-add/box.css',\n    'src/move-plus-add/add-box.js',\n    'src/move-plus-add/add-box.html',\n    'src/move-plus-add/add-source.css',\n    'src/move-plus-add/add-money.js',\n    'src/move-plus-add/add-money.html'\n  ]\n}\n","export class Index {\n  sourceFilenames = [\n    'src/order-list-with-fixed-item-height/list-container.js',\n    'src/order-list-with-fixed-item-height/list-container.html',\n    'src/order-list-with-fixed-item-height/list-container.css',\n    'src/order-list-with-fixed-item-height/item.js',\n    'src/order-list-with-fixed-item-height/item.html',\n    'src/order-list-with-fixed-item-height/item.css',\n    'src/order-list-with-fixed-item-height/list-container2.js',\n    'src/order-list-with-fixed-item-height/list-container2.html',\n    'src/order-list-with-fixed-item-height/item2.js',\n    'src/order-list-with-fixed-item-height/item2.html'\n  ]\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport $ from 'jquery';\n\n@inject(DndService)\nexport class Item {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'orderItem',\n      item: this.item,\n      elementHeight: $(this.dndElement).height()\n    };\n  }\n\n  @computedFrom('item', 'dndService.isProcessing', 'dndService.model')\n  get draggingMe() {\n    const {item, dndService} = this;\n    return dndService.isProcessing &&\n           dndService.model.type === 'orderItem' &&\n           dndService.model.item === item;\n  }\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport $ from 'jquery';\n\n@inject(DndService)\nexport class Item2 {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'orderItem2',\n      id: this.item.id,\n      elementHeight: $(this.dndElement).height()\n    };\n  }\n\n  @computedFrom('item', 'dndService.isProcessing', 'dndService.model')\n  get draggingMe() {\n    const {item, dndService} = this;\n    return dndService.isProcessing &&\n           dndService.model.type === 'orderItem2' &&\n           dndService.model.id === item.id;\n  }\n}\n","import {inject, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n@inject(DndService, EventAggregator)\nexport class ListContainer {\n  items = ['first', 'second', 'third', 'fourth'];\n  intention;\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetIntention()),\n      this.ea.subscribe('dnd:didEnd', () => this.resetIntention())\n    ];\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  resetIntention() {\n    this.intention = null;\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'orderItem';\n  }\n\n  dndHover(location) {\n    const {y} = location.mouseEndPointOffsetInTargetElement;\n    const {item, elementHeight} = this.dnd.model;\n\n    const idx = this.items.indexOf(item);\n    if (idx < 0) return;\n\n    // we have zero margin between item elements.\n    // otherwise has to do (y / (margin + elementHeight))\n    const newIdx = Math.floor(y / elementHeight);\n    this.intention = {fromIndex: idx, toIndex: newIdx};\n  }\n\n  dndDrop() {\n    if (!this.intention) return;\n    const {fromIndex, toIndex} = this.intention;\n    if (fromIndex === toIndex) return;\n\n    const item = this.items[fromIndex];\n    this.items.splice(fromIndex, 1);\n    this.items.splice(toIndex, 0, item);\n  }\n\n  @computedFrom('items', 'intention')\n  get patchedItems() {\n    const {items, intention} = this;\n    if (!intention) return items;\n    const {fromIndex, toIndex} = this.intention;\n\n    let patched = [...items];\n    const item = this.items[fromIndex];\n    patched.splice(fromIndex, 1);\n    patched.splice(toIndex, 0, item);\n    return patched;\n  }\n}\n","import {inject, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport _ from 'lodash';\n\n@inject(DndService, EventAggregator)\nexport class ListContainer2 {\n  items = [\n    {id: '0', value: 'first'},\n    {id: '1', value: 'second'},\n    {id: '2', value: 'third'},\n    {id: '3', value: 'fourth'}\n  ];\n\n  intention;\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetIntention()),\n      this.ea.subscribe('dnd:didEnd', () => this.resetIntention())\n    ];\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  resetIntention() {\n    this.intention = null;\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'orderItem2';\n  }\n\n  dndHover(location) {\n    const {y} = location.mouseEndPointOffsetInTargetElement;\n    const {id, elementHeight} = this.dnd.model;\n\n    const idx = _.findIndex(this.items, {id});\n    if (idx < 0) return;\n\n    // we have zero margin between item elements.\n    // otherwise has to do (y / (margin + elementHeight))\n    const newIdx = Math.floor(y / elementHeight);\n    this.intention = {fromIndex: idx, toIndex: newIdx};\n  }\n\n  dndDrop() {\n    if (!this.intention) return;\n    const {fromIndex, toIndex} = this.intention;\n    if (fromIndex === toIndex) return;\n\n    const item = this.items[fromIndex];\n    this.items.splice(fromIndex, 1);\n    this.items.splice(toIndex, 0, item);\n  }\n\n  @computedFrom('items', 'intention')\n  get patchedItems() {\n    const {items, intention} = this;\n    if (!intention) return items;\n    const {fromIndex, toIndex} = this.intention;\n\n    let patched = [...items];\n    const item = this.items[fromIndex];\n    patched.splice(fromIndex, 1);\n    patched.splice(toIndex, 0, item);\n    return patched;\n  }\n}\n","export function configure(config) {\n  config.globalResources([\n    './elements/display-source',\n    './elements/display-sources',\n    './elements/mark-down',\n    './elements/show-mark-down-file',\n    './value-converters/nav-section'\n  ]);\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Box {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'moveItem',\n      item: this.item\n    };\n  }\n\n  @computedFrom('item', 'item.x', 'item.y')\n  get positionCss() {\n    const x = (this.item && this.item.x) || 0;\n    const y = (this.item && this.item.y) || 0;\n\n    return {\n      left: x + 'px',\n      top: y + 'px'\n    };\n  }\n\n  @computedFrom('dndService.isProcessing', 'dndService.model')\n  get draggingMe() {\n    return this.dndService.isProcessing &&\n           this.dndService.model.item === this.item;\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Container {\n  items = [\n    {name: 'A', x: 20, y: 20},\n    {name: 'B', x: 50, y: 200},\n    {name: 'C', x: 200, y: 100}\n  ];\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'moveItem';\n  }\n\n  dndDrop(location) {\n    const {item} = this.dnd.model;\n    const newLoc = location.previewElementOffsetInTargetElement;\n    item.x = newLoc.x;\n    item.y = newLoc.y;\n\n    // move the item to end of array, in order to show it above others\n    const idx = this.items.indexOf(item);\n    if (idx >= 0) {\n      this.items.splice(idx, 1);\n      this.items.push(item);\n    }\n  }\n}\n","export class Index {\n  sourceFilenames = [\n    'src/simple-move/container.js',\n    'src/simple-move/container.html',\n    'src/simple-move/container.css',\n    'src/simple-move/box.js',\n    'src/simple-move/box.html',\n    'src/simple-move/box.css'\n  ]\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Box {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this, {noPreview: true});\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'moveItem',\n      id: this.item.id\n    };\n  }\n\n  @computedFrom('item', 'item.x', 'item.y')\n  get positionCss() {\n    const x = (this.item && this.item.x) || 0;\n    const y = (this.item && this.item.y) || 0;\n\n    return {\n      left: x + 'px',\n      top: y + 'px'\n    };\n  }\n}\n","import {inject, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport _ from 'lodash';\n\n@inject(DndService, EventAggregator)\nexport class Container {\n  items = [\n    {id: 'a', name: 'A', x: 20, y: 20},\n    {id: 'b', name: 'B', x: 50, y: 200},\n    {id: 'c', name: 'C', x: 200, y: 100}\n  ];\n\n  intention;\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetIntention()),\n      this.ea.subscribe('dnd:didEnd', () => this.resetIntention())\n    ];\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'moveItem';\n  }\n\n  dndDrop(location) {\n    const {id} = this.dnd.model;\n    // newLoc has 'x' and 'y'\n    const newLoc = location.previewElementOffsetInTargetElement;\n\n    const idx = _.findIndex(this.items, {id});\n    if (idx < 0) return;\n\n    const newItem = {...this.items[idx], ...newLoc};\n\n    // replace old item with new item\n    // add new item to the end\n    this.items.splice(idx, 1);\n    this.items.push(newItem);\n  }\n\n  dndHover(location) {\n    const {id} = this.dnd.model;\n    const newLoc = location.previewElementOffsetInTargetElement;\n\n    const item = _.find(this.items, {id});\n    if (!item) return;\n\n    this.intention = {id, x: newLoc.x, y: newLoc.y};\n  }\n\n  resetIntention() {\n    this.intention = null;\n  }\n\n  @computedFrom('items', 'intention')\n  get patchedItems() {\n    const {items, intention} = this;\n    if (!intention) return items;\n\n    let patched = _.reject(items, {id: intention.id});\n    const item = _.find(this.items, {id: intention.id});\n\n    if (item) {\n      // always show current moving item on top\n      patched.push({...item, x: intention.x, y: intention.y});\n    }\n\n    return patched;\n  }\n}\n","export class Index {\n  sourceFilenames = [\n    'src/simple-move-hover-no-preview/container.js',\n    'src/simple-move-hover-no-preview/container.html',\n    'src/simple-move-hover-no-preview/container.css',\n    'src/simple-move-hover-no-preview/box.js',\n    'src/simple-move-hover-no-preview/box.html',\n    'src/simple-move-hover-no-preview/box.css'\n  ]\n}\n","import {bindable} from 'aurelia-framework';\n\nexport class DisplaySource {\n  @bindable filename;\n  fileContent;\n\n  bind() {\n    this.reloadContent();\n  }\n\n  filenameChanged() {\n    this.reloadContent();\n  }\n\n  reloadContent() {\n    this.fileContent = null;\n    require([`text!../${this.filename}`], content => this.fileContent = content);\n  }\n\n}\n","import {bindable} from 'aurelia-framework';\n\nexport class DisplaySources {\n  @bindable filenames;\n  selected;\n\n  bind() {\n    if (this.filenames && this.filenames.length) {\n      this.selected = this.filenames[0];\n    }\n  }\n}\n","import {bindable} from 'aurelia-framework';\nimport showdown from 'showdown';\n\nexport class MarkDown {\n  @bindable value;\n\n  constructor() {\n    this.converter = new showdown.Converter();\n  }\n\n  valueChanged(newValue, oldValue) {\n    this.html = this.converter.makeHtml(newValue);\n  }\n}\n\n","import {bindable} from 'aurelia-framework';\n\nexport class ShowMarkDownFile {\n  @bindable filename;\n  markdown = '';\n\n  bind() {\n    this.reloadContent(this.filename);\n  }\n\n  filenameChanged(newFilename) {\n    this.reloadContent(newFilename);\n  }\n\n  reloadContent(filename) {\n    this.markdown = '';\n    require([`text!${filename}`], content => this.markdown = content);\n  }\n}\n","import _ from 'lodash';\n\nexport class NavSectionValueConverter {\n  toView(navs, section) {\n    return _.filter(navs, n => _.get(n, 'settings.section') === section);\n  }\n\n}\n\n"],"sourceRoot":".."}