{"version":3,"sources":["src/app.js","src/environment.js","src/main.js","src/show-tutorial.js","src/draw/canvas-container.js","src/draw/index.js","src/move-plus-add/add-box.js","src/move-plus-add/add-money.js","src/move-plus-add/box.js","src/move-plus-add/container.js","src/move-plus-add/index.js","src/resources/index.js","src/simple-move/box.js","src/simple-move/container.js","src/simple-move/index.js","src/simple-move-hover-no-preview/box.js","src/simple-move-hover-no-preview/container.js","src/simple-move-hover-no-preview/index.js","src/resources/elements/display-source.js","src/resources/elements/display-sources.js","src/resources/elements/mark-down.js","src/resources/elements/show-mark-down-file.js","src/resources/value-converters/nav-section.js"],"names":["App","configureRouter","config","router","title","map","route","name","nav","settings","section","moduleId","redirect","debug","testing","configure","aurelia","use","standardConfiguration","feature","plugin","start","then","setRoot","ShowTutorial","activate","params","routeConfig","filename","determineActivationStrategy","replace","CanvasContainer","dndService","ea","lines","attached","addSource","noPreview","addTarget","subscribers","subscribe","resetDrawingLine","detached","removeSource","removeTarget","forEach","s","dispose","drawingLine","dndModel","type","dndCanDrop","model","dndHover","location","mouseStartPointPageOffset","targetElementPageOffset","mouseEndPointOffsetInTargetElement","from","x","y","to","dndDrop","push","Index","sourceFilenames","AddBox","dndPreview","jq","get","AddMoney","css","Box","id","item","dnd","dollars","left","top","isProcessing","canDrop","isHoveringShallowly","Container","items","resetIntention","newLoc","previewElementOffsetInTargetElement","idx","findIndex","newItem","splice","length","find","intention","globalResources","DisplaySource","bind","reloadContent","filenameChanged","fileContent","require","content","DisplaySources","filenames","selected","MarkDown","converter","Converter","valueChanged","newValue","oldValue","html","makeHtml","ShowMarkDownFile","markdown","newFilename","NavSectionValueConverter","toView","navs","filter","n"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export class App {\n  configureRouter(config, router) {\n    this.router = router;\n\n    config.title = 'bcx-aurelia-dnd examples';\n    // config.options.pushState = true;\n    config.map([\n      {\n        route: 'tutorial/overview.md', name: 'overview',\n        title: 'Overview',\n        nav: true,\n        settings: {section: 'tutorial'},\n        moduleId: 'show-tutorial'\n      },\n      {\n        route: 'tutorial/source-and-target.md', name: 'source-and-target',\n        title: 'Source and Target',\n        nav: true,\n        settings: {section: 'tutorial'},\n        moduleId: 'show-tutorial'\n      },\n      {\n        route: 'tutorial/testing.md', name: 'testing',\n        title: 'Testing',\n        nav: true,\n        settings: {section: 'tutorial'},\n        moduleId: 'show-tutorial'\n      },\n      {\n        route: 'simple', name: 'simple',\n        title: 'Move object',\n        nav: true,\n        settings: {section: 'examples'},\n        moduleId: 'simple-move/index'\n      },\n      {\n        route: 'simple-move-hover-no-preview', name: 'simple-move-hover-no-preview',\n        title: 'Move object, no preview, use dndHover',\n        nav: true,\n        settings: {section: 'examples'},\n        moduleId: 'simple-move-hover-no-preview/index'\n      },\n      {\n        route: 'move-plus-add', name: 'move-plus-add',\n        title: 'Move object, add object, customize preview',\n        nav: true,\n        settings: {section: 'examples'},\n        moduleId: 'move-plus-add/index'\n      },\n      {\n        route: 'draw', name: 'draw',\n        title: 'Draw object',\n        nav: true,\n        settings: {section: 'examples'},\n        moduleId: 'draw/index'\n      },\n      {\n        route: '',\n        redirect: 'tutorial/overview.md'\n      }\n    ]);\n  }\n\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  // if (environment.debug) {\n  //   aurelia.use.developmentLogging();\n  // }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {activationStrategy} from 'aurelia-router';\n\nexport class ShowTutorial {\n  activate(params, routeConfig) {\n    this.filename = routeConfig.route;\n  }\n\n  determineActivationStrategy() {\n    return activationStrategy.replace;\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n@inject(DndService, EventAggregator)\nexport class CanvasContainer {\n  lines = [];\n  drawingLine;\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n\n  attached() {\n    this.dndService.addSource(this, {noPreview: true});\n    this.dndService.addTarget(this);\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetDrawingLine()),\n      this.ea.subscribe('dnd:didEnd', () => this.resetDrawingLine())\n    ];\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n    this.dndService.removeTarget(this);\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  resetDrawingLine() {\n    this.drawingLine = null;\n  }\n\n  dndModel() {\n    return {type: 'drawLine'};\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'drawLine';\n  }\n\n  dndHover(location) {\n    const {mouseStartPointPageOffset,\n           targetElementPageOffset,\n           mouseEndPointOffsetInTargetElement} = location;\n\n    const from = {\n      x: mouseStartPointPageOffset.x - targetElementPageOffset.x,\n      y: mouseStartPointPageOffset.y - targetElementPageOffset.y\n    };\n\n    this.drawingLine = {from, to: mouseEndPointOffsetInTargetElement};\n  }\n\n  dndDrop() {\n    if (this.drawingLine) {\n      this.lines.push(this.drawingLine);\n    }\n  }\n}\n","export class Index {\n  sourceFilenames = [\n    'src/draw/canvas-container.js',\n    'src/draw/canvas-container.html'\n  ]\n}\n","import {inject} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport $ from 'jquery';\n\n@inject(DndService)\nexport class AddBox {\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'addItem'\n    };\n  }\n\n  dndPreview() {\n    const jq = $(`\n      <div class=\"example-box\">new box</div>\n    `);\n    // style the dom if needed\n    // jq.css('width', '80px');\n    // jq.css('height', '40px');\n\n    return jq.get(0);\n  }\n\n}\n","import {inject} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport $ from 'jquery';\n\n@inject(DndService)\nexport class AddMoney {\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'addDollar'\n    };\n  }\n\n  dndPreview() {\n    const jq = $(`\n      <div class=\"example-box\">A dollar!</div>\n    `);\n    jq.css('width', 'auto');\n    jq.css('height', 'auto');\n\n    return jq.get(0);\n  }\n\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Box {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this, {noPreview: true});\n    this.dndService.addTarget(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n    this.dndService.removeTarget(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'moveItem',\n      id: this.item.id\n    };\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'addDollar';\n  }\n\n  dndDrop() {\n    const {type} = this.dnd.model;\n\n    if (type === 'addDollar') {\n      this.item.dollars += 1;\n    }\n  }\n\n  @computedFrom('item', 'item.x', 'item.y')\n  get positionCss() {\n    const x = (this.item && this.item.x) || 0;\n    const y = (this.item && this.item.y) || 0;\n\n    return {\n      left: x + 'px',\n      top: y + 'px'\n    };\n  }\n\n  @computedFrom('dnd', 'dnd.model', 'dnd.isProcessing', 'dnd.canDrop', 'dnd.isHoveringShallowly')\n  get dndCss() {\n    if (!this.dnd) return '';\n    const {model, isProcessing, canDrop, isHoveringShallowly} = this.dnd;\n    if (!isProcessing) return '';\n    // no style if moving item\n    if (model.type === 'moveItem') return '';\n    let css = '';\n    if (canDrop) {\n      css += 'can-drop';\n    } else {\n      css += 'can-not-drop';\n    }\n    if (isHoveringShallowly) css += ' shallow-hover';\n    return css;\n  }\n}\n","import {inject, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport _ from 'lodash';\n\n@inject(DndService, EventAggregator)\nexport class Container {\n  items = [\n    {id: '0', dollars: 1, x: 20, y: 20},\n    {id: '1', dollars: 1, x: 50, y: 200},\n    {id: '2', dollars: 1, x: 200, y: 100}\n  ];\n\n  intention;\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetIntention()),\n      this.ea.subscribe('dnd:didEnd', () => this.resetIntention())\n    ];\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'moveItem' ||\n           model.type === 'addItem';\n  }\n\n  dndDrop(location) {\n    const {type, id} = this.dnd.model;\n    // newLoc has 'x' and 'y'\n    const newLoc = location.previewElementOffsetInTargetElement;\n\n    if (type === 'moveItem') {\n      const idx = _.findIndex(this.items, {id});\n      if (idx < 0) return;\n\n      const newItem = {...this.items[idx], ...newLoc};\n\n      // replace old item with new item\n      this.items.splice(idx, 1, newItem);\n    } else if (type === 'addItem') {\n      this.items.push({\n        id: '' + this.items.length,\n        dollars: 1,\n        ...newLoc\n      });\n    }\n  }\n\n  dndHover(location) {\n    const {type, id} = this.dnd.model;\n    const newLoc = location.previewElementOffsetInTargetElement;\n\n    if (type === 'moveItem') {\n      const item = _.find(this.items, {id});\n      if (!item) return;\n\n      this.intention = {id, x: newLoc.x, y: newLoc.y};\n    }\n  }\n\n  resetIntention() {\n    this.intention = null;\n  }\n\n  @computedFrom('items', 'intention')\n  get patchedItems() {\n    const {items, intention} = this;\n    if (!intention) return items;\n\n    return _.map(items, item => {\n      if (item.id === intention.id) {\n        // patch location\n        return {...item, x: intention.x, y: intention.y};\n      }\n      return item;\n    });\n  }\n\n  @computedFrom('dnd', 'dnd.model', 'dnd.isProcessing', 'dnd.canDrop', 'dnd.isHoveringShallowly')\n  get dndCss() {\n    if (!this.dnd) return '';\n    const {model, isProcessing, canDrop, isHoveringShallowly} = this.dnd;\n    if (!isProcessing) return '';\n    // no style if moving item\n    if (model.type === 'moveItem') return '';\n    let css = '';\n    if (canDrop) {\n      css += 'can-drop';\n    } else {\n      css += 'can-not-drop';\n    }\n    if (isHoveringShallowly) css += ' shallow-hover';\n    return css;\n  }\n}\n","export class Index {\n  sourceFilenames = [\n    'src/move-plus-add/container.js',\n    'src/move-plus-add/container.html',\n    'src/move-plus-add/container.css',\n    'src/move-plus-add/target-effect.css',\n    'src/move-plus-add/box.js',\n    'src/move-plus-add/box.html',\n    'src/move-plus-add/box.css',\n    'src/move-plus-add/add-box.js',\n    'src/move-plus-add/add-box.html',\n    'src/move-plus-add/add-source.css',\n    'src/move-plus-add/add-money.js',\n    'src/move-plus-add/add-money.html'\n  ]\n}\n","export function configure(config) {\n  config.globalResources([\n    './elements/display-source',\n    './elements/display-sources',\n    './elements/mark-down',\n    './elements/show-mark-down-file',\n    './value-converters/nav-section'\n  ]);\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Box {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'moveItem',\n      item: this.item\n    };\n  }\n\n  @computedFrom('item', 'item.x', 'item.y')\n  get positionCss() {\n    const x = (this.item && this.item.x) || 0;\n    const y = (this.item && this.item.y) || 0;\n\n    return {\n      left: x + 'px',\n      top: y + 'px'\n    };\n  }\n\n  @computedFrom('dndService.isProcessing', 'dndService.model')\n  get draggingMe() {\n    return this.dndService.isProcessing &&\n           this.dndService.model.item === this.item;\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Container {\n  items = [\n    {name: 'A', x: 20, y: 20},\n    {name: 'B', x: 50, y: 200},\n    {name: 'C', x: 200, y: 100}\n  ];\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'moveItem';\n  }\n\n  dndDrop(location) {\n    const {item} = this.dnd.model;\n    const newLoc = location.previewElementOffsetInTargetElement;\n    item.x = newLoc.x;\n    item.y = newLoc.y;\n  }\n}\n","export class Index {\n  sourceFilenames = [\n    'src/simple-move/container.js',\n    'src/simple-move/container.html',\n    'src/simple-move/container.css',\n    'src/simple-move/box.js',\n    'src/simple-move/box.html',\n    'src/simple-move/box.css'\n  ]\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Box {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this, {noPreview: true});\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'moveItem',\n      id: this.item.id\n    };\n  }\n\n  @computedFrom('item', 'item.x', 'item.y')\n  get positionCss() {\n    const x = (this.item && this.item.x) || 0;\n    const y = (this.item && this.item.y) || 0;\n\n    return {\n      left: x + 'px',\n      top: y + 'px'\n    };\n  }\n}\n","import {inject, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport _ from 'lodash';\n\n@inject(DndService, EventAggregator)\nexport class Container {\n  items = [\n    {id: 'a', name: 'A', x: 20, y: 20},\n    {id: 'b', name: 'B', x: 50, y: 200},\n    {id: 'c', name: 'C', x: 200, y: 100}\n  ];\n\n  intention;\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetIntention()),\n      this.ea.subscribe('dnd:didEnd', () => this.resetIntention())\n    ];\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'moveItem';\n  }\n\n  dndDrop(location) {\n    const {id} = this.dnd.model;\n    // newLoc has 'x' and 'y'\n    const newLoc = location.previewElementOffsetInTargetElement;\n\n    const idx = _.findIndex(this.items, {id});\n    if (idx < 0) return;\n\n    const newItem = {...this.items[idx], ...newLoc};\n\n    // replace old item with new item\n    this.items.splice(idx, 1, newItem);\n  }\n\n  dndHover(location) {\n    const {id} = this.dnd.model;\n    const newLoc = location.previewElementOffsetInTargetElement;\n\n    const item = _.find(this.items, {id});\n    if (!item) return;\n\n    this.intention = {id, x: newLoc.x, y: newLoc.y};\n  }\n\n  resetIntention() {\n    this.intention = null;\n  }\n\n  @computedFrom('items', 'intention')\n  get patchedItems() {\n    const {items, intention} = this;\n    if (!intention) return items;\n\n    return _.map(items, item => {\n      if (item.id === intention.id) {\n        // patch location\n        return {...item, x: intention.x, y: intention.y};\n      }\n      return item;\n    });\n  }\n}\n","export class Index {\n  sourceFilenames = [\n    'src/simple-move-hover-no-preview/container.js',\n    'src/simple-move-hover-no-preview/container.html',\n    'src/simple-move-hover-no-preview/container.css',\n    'src/simple-move-hover-no-preview/box.js',\n    'src/simple-move-hover-no-preview/box.html',\n    'src/simple-move-hover-no-preview/box.css'\n  ]\n}\n","import {bindable} from 'aurelia-framework';\n\nexport class DisplaySource {\n  @bindable filename;\n  fileContent;\n\n  bind() {\n    this.reloadContent();\n  }\n\n  filenameChanged() {\n    this.reloadContent();\n  }\n\n  reloadContent() {\n    this.fileContent = null;\n    require([`text!../${this.filename}`], content => this.fileContent = content);\n  }\n\n}\n","import {bindable} from 'aurelia-framework';\n\nexport class DisplaySources {\n  @bindable filenames;\n  selected;\n\n  bind() {\n    if (this.filenames && this.filenames.length) {\n      this.selected = this.filenames[0];\n    }\n  }\n}\n","import {bindable} from 'aurelia-framework';\nimport showdown from 'showdown';\n\nexport class MarkDown {\n  @bindable value;\n\n  constructor() {\n    this.converter = new showdown.Converter();\n  }\n\n  valueChanged(newValue, oldValue) {\n    this.html = this.converter.makeHtml(newValue);\n  }\n}\n\n","import {bindable} from 'aurelia-framework';\n\nexport class ShowMarkDownFile {\n  @bindable filename;\n  markdown = '';\n\n  bind() {\n    this.reloadContent(this.filename);\n  }\n\n  filenameChanged(newFilename) {\n    this.reloadContent(newFilename);\n  }\n\n  reloadContent(filename) {\n    this.markdown = '';\n    require([`text!${filename}`], content => this.markdown = content);\n  }\n}\n","import _ from 'lodash';\n\nexport class NavSectionValueConverter {\n  toView(navs, section) {\n    return _.filter(navs, n => _.get(n, 'settings.section') === section);\n  }\n\n}\n\n"],"sourceRoot":".."}