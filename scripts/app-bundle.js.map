{"version":3,"sources":["src/app.js","src/environment.js","src/main.js","src/resources/index.js","src/move-plus-add/add-box.js","src/move-plus-add/add-money.js","src/move-plus-add/box.js","src/move-plus-add/container.js","src/move-plus-add/index.js","src/simple-move/box.js","src/simple-move/container.js","src/simple-move/index.js","src/simple-move-hover-no-preview/box.js","src/simple-move-hover-no-preview/container.js","src/simple-move-hover-no-preview/index.js","src/resources/elements/display-source.js","src/resources/elements/display-sources.js"],"names":["App","configureRouter","config","router","title","map","route","name","nav","moduleId","debug","testing","configure","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","globalResources","AddBox","dndService","attached","addSource","detached","removeSource","dndModel","type","dndPreview","jq","get","AddMoney","css","Box","noPreview","addTarget","removeTarget","id","item","dndCanDrop","model","dndDrop","dnd","dollars","x","y","left","top","isProcessing","canDrop","isHoveringShallowly","Container","ea","items","subscribers","subscribe","resetIntention","forEach","s","dispose","location","newLoc","previewElementOffsetInTargetElement","idx","findIndex","newItem","splice","push","length","dndHover","find","intention","Index","sourceFilenames","DisplaySource","bind","reloadContent","filenameChanged","fileContent","require","filename","content","DisplaySources","filenames","selected"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export class App {\n  configureRouter(config, router) {\n    this.router = router;\n\n    config.title = 'bcx-aurelia-dnd examples';\n    // config.options.pushState = true;\n    config.map([\n      {\n        route: '', name: 'simple',\n        title: 'Move object',\n        nav: true,\n        moduleId: 'simple-move/index'\n      },\n      {\n        route: 'simple-move-hover-no-preview', name: 'simple-move-hover-no-preview',\n        title: 'Move object, no preview, use dndHover',\n        nav: true,\n        moduleId: 'simple-move-hover-no-preview/index'\n      },\n      {\n        route: 'move-plus-add', name: 'move-plus-add',\n        title: 'Move object, add object, customize preview',\n        nav: true,\n        moduleId: 'move-plus-add/index'\n      }\n    ]);\n  }\n\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\nimport 'bootstrap';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export function configure(config) {\n  config.globalResources([\n    './elements/display-source',\n    './elements/display-sources'\n  ]);\n}\n","import {inject} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport $ from 'jquery';\n\n@inject(DndService)\nexport class AddBox {\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'addItem'\n    };\n  }\n\n  dndPreview() {\n    const jq = $(`\n      <div class=\"example-box\">new box</div>\n    `);\n    // style the dom if needed\n    // jq.css('width', '80px');\n    // jq.css('height', '40px');\n\n    return jq.get(0);\n  }\n\n}\n","import {inject} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport $ from 'jquery';\n\n@inject(DndService)\nexport class AddMoney {\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'addDollar'\n    };\n  }\n\n  dndPreview() {\n    const jq = $(`\n      <div class=\"example-box\">A dollar!</div>\n    `);\n    jq.css('width', 'auto');\n    jq.css('height', 'auto');\n\n    return jq.get(0);\n  }\n\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Box {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this, {noPreview: true});\n    this.dndService.addTarget(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n    this.dndService.removeTarget(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'moveItem',\n      id: this.item.id\n    };\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'addDollar';\n  }\n\n  dndDrop() {\n    const {type} = this.dnd.model;\n\n    if (type === 'addDollar') {\n      this.item.dollars += 1;\n    }\n  }\n\n  @computedFrom('item', 'item.x', 'item.y')\n  get positionCss() {\n    const x = (this.item && this.item.x) || 0;\n    const y = (this.item && this.item.y) || 0;\n\n    return {\n      left: x + 'px',\n      top: y + 'px'\n    };\n  }\n\n  @computedFrom('dnd', 'dnd.model', 'dnd.isProcessing', 'dnd.canDrop', 'dnd.isHoveringShallowly')\n  get dndCss() {\n    if (!this.dnd) return '';\n    const {model, isProcessing, canDrop, isHoveringShallowly} = this.dnd;\n    if (!isProcessing) return '';\n    // no style if moving item\n    if (model.type === 'moveItem') return '';\n    let css = '';\n    if (canDrop) {\n      css += 'can-drop';\n    } else {\n      css += 'can-not-drop';\n    }\n    if (isHoveringShallowly) css += ' shallow-hover';\n    return css;\n  }\n}\n","import {inject, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport _ from 'lodash';\n\n@inject(DndService, EventAggregator)\nexport class Container {\n  items = [\n    {id: '0', dollars: 1, x: 20, y: 20},\n    {id: '1', dollars: 1, x: 50, y: 200},\n    {id: '2', dollars: 1, x: 200, y: 100}\n  ];\n\n  intention;\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetIntention()),\n      this.ea.subscribe('dnd:didEnd', () => this.resetIntention())\n    ];\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'moveItem' ||\n           model.type === 'addItem';\n  }\n\n  dndDrop(location) {\n    const {type, id} = this.dnd.model;\n    // newLoc has 'x' and 'y'\n    const newLoc = location.previewElementOffsetInTargetElement;\n\n    if (type === 'moveItem') {\n      const idx = _.findIndex(this.items, {id});\n      if (idx < 0) return;\n\n      const newItem = {...this.items[idx], ...newLoc};\n\n      // replace old item with new item\n      this.items.splice(idx, 1, newItem);\n    } else if (type === 'addItem') {\n      this.items.push({\n        id: '' + this.items.length,\n        dollars: 1,\n        ...newLoc\n      });\n    }\n  }\n\n  dndHover(location) {\n    const {type, id} = this.dnd.model;\n    const newLoc = location.previewElementOffsetInTargetElement;\n\n    if (type === 'moveItem') {\n      const item = _.find(this.items, {id});\n      if (!item) return;\n\n      this.intention = {id, x: newLoc.x, y: newLoc.y};\n    }\n  }\n\n  resetIntention() {\n    this.intention = null;\n  }\n\n  @computedFrom('items', 'intention')\n  get patchedItems() {\n    const {items, intention} = this;\n    if (!intention) return items;\n\n    return _.map(items, item => {\n      if (item.id === intention.id) {\n        // patch location\n        return {...item, x: intention.x, y: intention.y};\n      }\n      return item;\n    });\n  }\n\n  @computedFrom('dnd', 'dnd.model', 'dnd.isProcessing', 'dnd.canDrop', 'dnd.isHoveringShallowly')\n  get dndCss() {\n    if (!this.dnd) return '';\n    const {model, isProcessing, canDrop, isHoveringShallowly} = this.dnd;\n    if (!isProcessing) return '';\n    // no style if moving item\n    if (model.type === 'moveItem') return '';\n    let css = '';\n    if (canDrop) {\n      css += 'can-drop';\n    } else {\n      css += 'can-not-drop';\n    }\n    if (isHoveringShallowly) css += ' shallow-hover';\n    return css;\n  }\n}\n","export class Index {\n  sourceFilenames = [\n    'src/move-plus-add/container.js',\n    'src/move-plus-add/container.html',\n    'src/move-plus-add/container.css',\n    'src/move-plus-add/target-effect.css',\n    'src/move-plus-add/box.js',\n    'src/move-plus-add/box.html',\n    'src/move-plus-add/box.css',\n    'src/move-plus-add/add-box.js',\n    'src/move-plus-add/add-box.html',\n    'src/move-plus-add/add-source.css',\n    'src/move-plus-add/add-money.js',\n    'src/move-plus-add/add-money.html'\n  ]\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Box {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'moveItem',\n      item: this.item\n    };\n  }\n\n  @computedFrom('item', 'item.x', 'item.y')\n  get positionCss() {\n    const x = (this.item && this.item.x) || 0;\n    const y = (this.item && this.item.y) || 0;\n\n    return {\n      left: x + 'px',\n      top: y + 'px'\n    };\n  }\n\n  @computedFrom('dndService.isProcessing', 'dndService.model')\n  get draggingMe() {\n    return this.dndService.isProcessing &&\n           this.dndService.model.item === this.item;\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Container {\n  items = [\n    {name: 'A', x: 20, y: 20},\n    {name: 'B', x: 50, y: 300},\n    {name: 'C', x: 300, y: 100}\n  ];\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'moveItem';\n  }\n\n  dndDrop(location) {\n    const {item} = this.dnd.model;\n    const newLoc = location.previewElementOffsetInTargetElement;\n    item.x = newLoc.x;\n    item.y = newLoc.y;\n  }\n}\n","export class Index {\n  sourceFilenames = [\n    'src/simple-move/container.js',\n    'src/simple-move/container.html',\n    'src/simple-move/container.css',\n    'src/simple-move/box.js',\n    'src/simple-move/box.html',\n    'src/simple-move/box.css'\n  ]\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Box {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this, {noPreview: true});\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'moveItem',\n      id: this.item.id\n    };\n  }\n\n  @computedFrom('item', 'item.x', 'item.y')\n  get positionCss() {\n    const x = (this.item && this.item.x) || 0;\n    const y = (this.item && this.item.y) || 0;\n\n    return {\n      left: x + 'px',\n      top: y + 'px'\n    };\n  }\n}\n","import {inject, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport _ from 'lodash';\n\n@inject(DndService, EventAggregator)\nexport class Container {\n  items = [\n    {id: 'a', name: 'A', x: 20, y: 20},\n    {id: 'b', name: 'B', x: 50, y: 300},\n    {id: 'c', name: 'C', x: 300, y: 100}\n  ];\n\n  intention;\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetIntention()),\n      this.ea.subscribe('dnd:didEnd', () => this.resetIntention())\n    ];\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'moveItem';\n  }\n\n  dndDrop(location) {\n    const {id} = this.dnd.model;\n    // newLoc has 'x' and 'y'\n    const newLoc = location.previewElementOffsetInTargetElement;\n\n    const idx = _.findIndex(this.items, {id});\n    if (idx < 0) return;\n\n    const newItem = {...this.items[idx], ...newLoc};\n\n    // replace old item with new item\n    this.items.splice(idx, 1, newItem);\n  }\n\n  dndHover(location) {\n    const {id} = this.dnd.model;\n    const newLoc = location.previewElementOffsetInTargetElement;\n\n    const item = _.find(this.items, {id});\n    if (!item) return;\n\n    this.intention = {id, x: newLoc.x, y: newLoc.y};\n  }\n\n  resetIntention() {\n    this.intention = null;\n  }\n\n  @computedFrom('items', 'intention')\n  get patchedItems() {\n    const {items, intention} = this;\n    if (!intention) return items;\n\n    return _.map(items, item => {\n      if (item.id === intention.id) {\n        // patch location\n        return {...item, x: intention.x, y: intention.y};\n      }\n      return item;\n    });\n  }\n}\n","export class Index {\n  sourceFilenames = [\n    'src/simple-move-hover-no-preview/container.js',\n    'src/simple-move-hover-no-preview/container.html',\n    'src/simple-move-hover-no-preview/container.css',\n    'src/simple-move-hover-no-preview/box.js',\n    'src/simple-move-hover-no-preview/box.html',\n    'src/simple-move-hover-no-preview/box.css'\n  ]\n}\n","import {bindable} from 'aurelia-framework';\n\nexport class DisplaySource {\n  @bindable filename;\n  fileContent;\n\n  bind() {\n    this.reloadContent();\n  }\n\n  filenameChanged() {\n    this.reloadContent();\n  }\n\n  reloadContent() {\n    this.fileContent = null;\n    require([`text!../${this.filename}`], content => this.fileContent = content);\n  }\n\n}\n","import {bindable} from 'aurelia-framework';\n\nexport class DisplaySources {\n  @bindable filenames;\n  selected;\n\n  bind() {\n    if (this.filenames && this.filenames.length) {\n      this.selected = this.filenames[0];\n    }\n  }\n}\n"],"sourceRoot":".."}