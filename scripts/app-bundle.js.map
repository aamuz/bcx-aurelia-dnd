{"version":3,"sources":["src/app.js","src/environment.js","src/main.js","src/show-tutorial.js","src/draw/canvas-container.js","src/draw/index.js","src/move-plus-add/add-box.js","src/move-plus-add/add-money.js","src/move-plus-add/box.js","src/move-plus-add/container.js","src/move-plus-add/index.js","src/order-list-with-unknown-item-height/index.js","src/order-list-with-unknown-item-height/item.js","src/order-list-with-unknown-item-height/item2.js","src/order-list-with-unknown-item-height/list-container.js","src/order-list-with-unknown-item-height/list-container2.js","src/order-list-with-fixed-item-height/index.js","src/order-list-with-fixed-item-height/item.js","src/order-list-with-fixed-item-height/item2.js","src/order-list-with-fixed-item-height/list-container.js","src/order-list-with-fixed-item-height/list-container2.js","src/resources/index.js","src/simple-move/box.js","src/simple-move/container.js","src/simple-move/index.js","src/simple-move-hover-no-preview/box.js","src/simple-move-hover-no-preview/container.js","src/simple-move-hover-no-preview/index.js","src/simple-move-step-1/box.js","src/simple-move-step-1/container.js","src/simple-move-step-1/index.js","src/simple-move-step-2/box.js","src/simple-move-step-2/container.js","src/simple-move-step-2/index.js","src/resources/attributes/if-not.js","src/resources/elements/display-source.js","src/resources/elements/display-sources.js","src/resources/elements/mark-down.js","src/resources/elements/show-mark-down-file.js","src/resources/value-converters/ends-with.js","src/resources/value-converters/nav-section.js"],"names":["App","configureRouter","config","router","title","map","route","name","nav","settings","section","trunks","moduleId","redirect","debug","testing","configure","aurelia","use","standardConfiguration","feature","plugin","start","then","setRoot","ShowTutorial","activate","params","routeConfig","determineActivationStrategy","replace","CanvasContainer","dndService","ea","shapes","selectedType","drawingTypes","value","label","attached","addSource","noPreview","addTarget","subscribers","subscribe","resetDrawingShape","detached","removeSource","removeTarget","forEach","s","dispose","drawingShape","dndModel","type","dndCanDrop","model","dndHover","location","mouseStartAt","targetElementRect","mouseEndAt","x","y","end","dnd","from","to","Math","min","width","abs","height","dndDrop","push","Index","sourceFilenames","AddBox","dndPreview","jq","get","AddMoney","centerPreviewToMousePosition","hideCursor","Box","id","item","dollars","left","top","isProcessing","canDrop","isHoveringShallowly","css","Container","items","resetIntention","previewElementRect","newLoc","idx","findIndex","newItem","splice","length","find","intention","patched","reject","Item","updateIntention","targetId","beforeTarget","Item2","element","handler","fullEl","dndElement","clone","ListContainer","fulfillIntention","patchedItems","targetIndex","originalIndex","currentIndex","nextIndex","fromIndex","toIndex","ListContainer2","elementHeight","indexOf","newIdx","floor","globalResources","IfNotCustomAttribute","viewFactory","viewSlot","valueChanged","newValue","DisplaySource","bind","reloadContent","filenameChanged","fileContent","require","filename","content","DisplaySources","fullScreen","filenames","selected","MarkDown","converter","Converter","oldValue","html","makeHtml","ShowMarkDownFile","markdown","newFilename","EndsWithValueConverter","toView","str","subfix","endsWith","NavSectionValueConverter","navs","filter","n"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export class App {\n  configureRouter(config, router) {\n    this.router = router;\n\n    config.title = 'bcx-aurelia-dnd examples';\n    // config.options.pushState = true;\n    config.map([\n      {\n        route: 'overview', name: 'overview',\n        title: 'Overview',\n        nav: true,\n        settings: {\n          section: 'tutorial',\n          trunks: [\n            'tutorial/overview.md'\n          ]\n        },\n        moduleId: 'show-tutorial'\n      },\n      {\n        route: 'source-and-target', name: 'source-and-target',\n        title: 'Source and Target',\n        nav: true,\n        settings: {\n          section: 'tutorial',\n          trunks: [\n            'tutorial/source-and-target-part1.md',\n            'simple-move-step-1/index',\n            'tutorial/source-and-target-part2.md',\n            'simple-move-step-2/index',\n            'tutorial/source-and-target-part3.md'\n          ]\n        },\n        moduleId: 'show-tutorial'\n      },\n      {\n        route: 'customize-preview-and-hover', name: 'customize-preview-and-hover',\n        title: 'Customize preview and respond to dndHover',\n        nav: true,\n        settings: {\n          section: 'tutorial',\n          trunks: [\n            'tutorial/customize-preview-and-hover-part1.md'\n          ]\n        },\n        moduleId: 'show-tutorial'\n      },\n      {\n        route: 'testing', name: 'testing',\n        title: 'Testing',\n        nav: true,\n        settings: {\n          section: 'tutorial',\n          trunks: [\n            'tutorial/testing.md'\n          ]\n        },\n        moduleId: 'show-tutorial'\n      },\n      {\n        route: 'simple', name: 'simple',\n        title: 'Move object',\n        nav: true,\n        settings: {section: 'examples'},\n        moduleId: 'simple-move/index'\n      },\n      {\n        route: 'simple-move-hover-no-preview', name: 'simple-move-hover-no-preview',\n        title: 'Move object, no preview, use dndHover',\n        nav: true,\n        settings: {section: 'examples'},\n        moduleId: 'simple-move-hover-no-preview/index'\n      },\n      {\n        route: 'move-plus-add', name: 'move-plus-add',\n        title: 'Move object, add object, customize preview',\n        nav: true,\n        settings: {section: 'examples'},\n        moduleId: 'move-plus-add/index'\n      },\n      {\n        route: 'draw', name: 'draw',\n        title: 'Draw object',\n        nav: true,\n        settings: {section: 'examples'},\n        moduleId: 'draw/index'\n      },\n      {\n        route: 'order-simple', name: 'order-simple',\n        title: 'Re-order list with fixed item height',\n        nav: true,\n        settings: {section: 'examples'},\n        moduleId: 'order-list-with-fixed-item-height/index'\n      },\n      {\n        route: 'order-flex', name: 'order-flex',\n        title: 'Re-order list with unknown item height',\n        nav: true,\n        settings: {section: 'examples'},\n        moduleId: 'order-list-with-unknown-item-height/index'\n      },\n      {\n        route: '',\n        redirect: 'overview'\n      }\n    ]);\n  }\n\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  // if (environment.debug) {\n  //   aurelia.use.developmentLogging();\n  // }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {activationStrategy} from 'aurelia-router';\n\nexport class ShowTutorial {\n  activate(params, routeConfig) {\n    this.trunks = routeConfig.settings.trunks;\n  }\n\n  determineActivationStrategy() {\n    return activationStrategy.replace;\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n@inject(DndService, EventAggregator)\nexport class CanvasContainer {\n  shapes = [];\n  drawingShape;\n\n  selectedType = 'drawLine';\n  drawingTypes = [\n    {value: 'drawLine', label: 'Line'},\n    {value: 'drawRect', label: 'Rectangular'}\n  ];\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n\n  attached() {\n    this.dndService.addSource(this, {noPreview: true});\n    this.dndService.addTarget(this);\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetDrawingShape()),\n      this.ea.subscribe('dnd:didEnd', () => this.resetDrawingShape())\n    ];\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n    this.dndService.removeTarget(this);\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  resetDrawingShape() {\n    this.drawingShape = null;\n  }\n\n  dndModel() {\n    return {type: this.selectedType};\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'drawLine' ||\n           model.type === 'drawRect';\n  }\n\n  dndHover(location) {\n    const {mouseStartAt, targetElementRect, mouseEndAt} = location;\n\n    const start = {\n      x: mouseStartAt.x - targetElementRect.x,\n      y: mouseStartAt.y - targetElementRect.y\n    };\n\n    const end = {\n      x: mouseEndAt.x - targetElementRect.x,\n      y: mouseEndAt.y - targetElementRect.y\n    };\n\n    if (this.dnd.model.type === 'drawLine') {\n      this.drawingShape = {type: 'line', from: start, to: end};\n    } else if (this.dnd.model.type === 'drawRect') {\n      const x = Math.min(start.x, end.x);\n      const y = Math.min(start.y, end.y);\n      const width = Math.abs(start.x - end.x);\n      const height = Math.abs(start.y - end.y);\n      this.drawingShape = {type: 'rect', x, y, width, height};\n    }\n  }\n\n  dndDrop() {\n    if (this.drawingShape) {\n      this.shapes.push(this.drawingShape);\n    }\n  }\n}\n","export class Index {\n  sourceFilenames = [\n    'src/draw/canvas-container.js',\n    'src/draw/canvas-container.html'\n  ]\n}\n","import {inject} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport $ from 'jquery';\n\n@inject(DndService)\nexport class AddBox {\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'addItem'\n    };\n  }\n\n  dndPreview() {\n    const jq = $(`\n      <div class=\"example-box\">new box</div>\n    `);\n    // style the dom if needed\n    // jq.css('width', '80px');\n    // jq.css('height', '40px');\n\n    return jq.get(0);\n  }\n\n}\n","import {inject} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport $ from 'jquery';\n\n@inject(DndService)\nexport class AddMoney {\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this, {centerPreviewToMousePosition: true, hideCursor: true});\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'addDollar'\n    };\n  }\n\n  dndPreview() {\n    const jq = $(`\n      <div class=\"dollar\"></div>\n    `);\n\n    return jq.get(0);\n  }\n\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Box {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this, {noPreview: true});\n    this.dndService.addTarget(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n    this.dndService.removeTarget(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'moveItem',\n      id: this.item.id\n    };\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'addDollar';\n  }\n\n  dndDrop() {\n    const {type} = this.dnd.model;\n\n    if (type === 'addDollar') {\n      this.item.dollars += 1;\n    }\n  }\n\n  @computedFrom('item', 'item.x', 'item.y')\n  get positionCss() {\n    const x = (this.item && this.item.x) || 0;\n    const y = (this.item && this.item.y) || 0;\n\n    return {\n      left: x + 'px',\n      top: y + 'px'\n    };\n  }\n\n  @computedFrom('dnd', 'dnd.model', 'dnd.isProcessing', 'dnd.canDrop', 'dnd.isHoveringShallowly')\n  get dndCss() {\n    if (!this.dnd) return '';\n    const {model, isProcessing, canDrop, isHoveringShallowly} = this.dnd;\n    if (!isProcessing) return '';\n    // no style if moving item\n    if (model.type === 'moveItem') return '';\n    let css = '';\n    if (canDrop) {\n      css += 'can-drop';\n    } else {\n      css += 'can-not-drop';\n    }\n    if (isHoveringShallowly) css += ' shallow-hover';\n    return css;\n  }\n}\n","import {inject, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport _ from 'lodash';\n\n@inject(DndService, EventAggregator)\nexport class Container {\n  items = [\n    {id: '0', dollars: 1, x: 20, y: 20},\n    {id: '1', dollars: 1, x: 50, y: 200},\n    {id: '2', dollars: 1, x: 200, y: 100}\n  ];\n\n  intention;\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetIntention()),\n      this.ea.subscribe('dnd:didEnd', () => this.resetIntention())\n    ];\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'moveItem' ||\n           model.type === 'addItem';\n  }\n\n  dndDrop(location) {\n    const {type, id} = this.dnd.model;\n    const {previewElementRect, targetElementRect} = location;\n    const newLoc = {\n      x: previewElementRect.x - targetElementRect.x,\n      y: previewElementRect.y - targetElementRect.y\n    };\n\n    if (type === 'moveItem') {\n      const idx = _.findIndex(this.items, {id});\n      if (idx < 0) return;\n\n      const newItem = {...this.items[idx], ...newLoc};\n\n      // replace old item with new item\n      // add new item to the end\n      this.items.splice(idx, 1);\n      this.items.push(newItem);\n    } else if (type === 'addItem') {\n      this.items.push({\n        id: '' + this.items.length,\n        dollars: 1,\n        ...newLoc\n      });\n    }\n  }\n\n  dndHover(location) {\n    const {type, id} = this.dnd.model;\n    const {previewElementRect, targetElementRect} = location;\n    const newLoc = {\n      x: previewElementRect.x - targetElementRect.x,\n      y: previewElementRect.y - targetElementRect.y\n    };\n\n    if (type === 'moveItem') {\n      const item = _.find(this.items, {id});\n      if (!item) return;\n\n      this.intention = {id, x: newLoc.x, y: newLoc.y};\n    }\n  }\n\n  resetIntention() {\n    this.intention = null;\n  }\n\n  @computedFrom('items', 'intention')\n  get patchedItems() {\n    const {items, intention} = this;\n    if (!intention) return items;\n\n    let patched = _.reject(items, {id: intention.id});\n    const item = _.find(this.items, {id: intention.id});\n\n    if (item) {\n      // always show current moving item on top\n      patched.push({...item, x: intention.x, y: intention.y});\n    }\n\n    return patched;\n  }\n\n  @computedFrom('dnd', 'dnd.model', 'dnd.isProcessing', 'dnd.canDrop', 'dnd.isHoveringShallowly')\n  get dndCss() {\n    if (!this.dnd) return '';\n    const {model, isProcessing, canDrop, isHoveringShallowly} = this.dnd;\n    if (!isProcessing) return '';\n    // no style if moving item\n    if (model.type === 'moveItem') return '';\n    let css = '';\n    if (canDrop) {\n      css += 'can-drop';\n    } else {\n      css += 'can-not-drop';\n    }\n    if (isHoveringShallowly) css += ' shallow-hover';\n    return css;\n  }\n}\n","export class Index {\n  sourceFilenames = [\n    'src/move-plus-add/container.js',\n    'src/move-plus-add/container.html',\n    'src/move-plus-add/container.css',\n    'src/move-plus-add/target-effect.css',\n    'src/move-plus-add/box.js',\n    'src/move-plus-add/box.html',\n    'src/move-plus-add/box.css',\n    'src/move-plus-add/add-box.js',\n    'src/move-plus-add/add-box.html',\n    'src/move-plus-add/add-source.css',\n    'src/move-plus-add/add-money.js',\n    'src/move-plus-add/add-money.html'\n  ]\n}\n","export class Index {\n  sourceFilenames = [\n    'src/order-list-with-unknown-item-height/list-container.js',\n    'src/order-list-with-unknown-item-height/list-container.html',\n    'src/order-list-with-unknown-item-height/list-container.css',\n    'src/order-list-with-unknown-item-height/item.js',\n    'src/order-list-with-unknown-item-height/item.html',\n    'src/order-list-with-unknown-item-height/item.css',\n    'src/order-list-with-unknown-item-height/list-container2.js',\n    'src/order-list-with-unknown-item-height/list-container2.html',\n    'src/order-list-with-unknown-item-height/item2.js',\n    'src/order-list-with-unknown-item-height/item2.html'\n  ]\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Item {\n  @bindable item;\n  @bindable updateIntention;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n    this.dndService.addTarget(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n    this.dndService.removeTarget(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'orderItem',\n      id: this.item.id\n    };\n  }\n\n  // set canDrop true to receive dndHover, but do nothing in dndDrop\n  dndCanDrop(model) {\n    return model.type === 'orderItem' && model.id !== this.item.id;\n  }\n\n  // no-op\n  dndDrop() {}\n\n  dndHover(location) {\n    const {mouseEndAt, targetElementRect} = location;\n    const y = mouseEndAt.y - targetElementRect.y;\n\n    // because of unknown size diff between items,\n    // check half size to avoid endless bouncing of swapping two items.\n    if (y < (targetElementRect.height / 2)) {\n      // hover over top half, user wants to move smth before this item.\n      this.updateIntention({targetId: this.item.id, beforeTarget: true});\n    } else {\n      // hover over bottom half, user wants to move smth after this item.\n      this.updateIntention({targetId: this.item.id, beforeTarget: false});\n    }\n  }\n\n  @computedFrom('item', 'dndService.isProcessing', 'dndService.model')\n  get draggingMe() {\n    const {item, dndService} = this;\n    return dndService.isProcessing &&\n           dndService.model.type === 'orderItem' &&\n           dndService.model.id === item.id;\n  }\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport $ from 'jquery';\n\n@inject(DndService)\nexport class Item2 {\n  @bindable item;\n  @bindable updateIntention;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this, {element: this.handler});\n    this.dndService.addTarget(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this); // or this.dndService.removeSource(this.handler);\n    this.dndService.removeTarget(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'orderItem2',\n      id: this.item.id\n    };\n  }\n\n  // default preview only clone the handler.\n  // we need more than handle in preview.\n  dndPreview() {\n    const fullEl = $(this.dndElement);\n    const jq = fullEl.clone();\n    jq.css('width', fullEl.css('width'));\n    jq.css('height', fullEl.css('height'));\n    return jq.get(0);\n  }\n\n  // set canDrop true to receive dndHover, but do nothing in dndDrop\n  dndCanDrop(model) {\n    return model.type === 'orderItem2' && model.id !== this.item.id;\n  }\n\n  // noop\n  dndDrop() {\n  }\n\n  dndHover(location) {\n    const {mouseEndAt, targetElementRect} = location;\n    const y = mouseEndAt.y - targetElementRect.y;\n\n    // because of unknown size diff between items,\n    // check half size to avoid endless bouncing of swapping two items.\n    if (y < (targetElementRect.height / 2)) {\n      // hover over top half, user wants to move smth before this item.\n      this.updateIntention({targetId: this.item.id, beforeTarget: true});\n    } else {\n      // hover over bottom half, user wants to move smth after this item.\n      this.updateIntention({targetId: this.item.id, beforeTarget: false});\n    }\n  }\n\n  @computedFrom('item', 'dndService.isProcessing', 'dndService.model')\n  get draggingMe() {\n    const {item, dndService} = this;\n    return dndService.isProcessing &&\n           dndService.model.type === 'orderItem2' &&\n           dndService.model.id === item.id;\n  }\n}\n","import {inject, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport _ from 'lodash';\n\n@inject(DndService, EventAggregator)\nexport class ListContainer {\n  items = [\n    {id: '0', value: 'lorem'},\n    {id: '1', value: 'Lorem ipsum dolor sit amet. consectetur adipisicing elit.'},\n    {id: '2', value: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eos, tempore.'},\n    {id: '3', value: 'Lorem ipsum dolor sit amet, consectetur.'}\n  ];\n\n  intention;\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n  attached() {\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetIntention()),\n      this.ea.subscribe('dnd:didEnd', () => this.fulfillIntention())\n    ];\n  }\n\n  detached() {\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  resetIntention() {\n    this.intention = null;\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'orderItem';\n  }\n\n  updateIntention(targetId, beforeTarget) {\n    const {isProcessing, model} = this.dndService;\n    if (!isProcessing) return;\n    if (model.type !== 'orderItem') return;\n\n    const {patchedItems} = this;\n    const targetIndex = _.findIndex(patchedItems, {id: targetId});\n    if (targetIndex < 0) return;\n\n    let originalIndex;\n    let currentIndex;\n    let nextIndex;\n    if (this.intention) {\n      originalIndex = this.intention.fromIndex;\n      currentIndex = this.intention.toIndex;\n    } else {\n      originalIndex = _.findIndex(patchedItems, {id: model.id});\n      if (originalIndex < 0) return;\n      currentIndex = originalIndex;\n    }\n\n    if (currentIndex < targetIndex) {\n      // grabbed item is currently above target\n      if (beforeTarget) {\n        nextIndex = targetIndex - 1;\n      } else {\n        nextIndex = targetIndex;\n      }\n    } else /* if (currentIndex > targetIndex) */ { // no need to check, currentIndex never === targetIndex\n      // grabbed item is currently below target\n      if (beforeTarget) {\n        nextIndex = targetIndex;\n      } else {\n        nextIndex = targetIndex + 1;\n      }\n    }\n\n    this.intention = {\n      fromIndex: originalIndex,\n      toIndex: nextIndex\n    };\n  }\n\n  fulfillIntention() {\n    if (!this.intention) return;\n    const {fromIndex, toIndex} = this.intention;\n\n    this.resetIntention();\n    if (fromIndex === toIndex) return;\n\n    const item = this.items[fromIndex];\n    this.items.splice(fromIndex, 1);\n    this.items.splice(toIndex, 0, item);\n  }\n\n  @computedFrom('items', 'intention')\n  get patchedItems() {\n    const {items, intention} = this;\n    if (!intention) return items;\n    const {fromIndex, toIndex} = this.intention;\n\n    let patched = [...items];\n    const item = this.items[fromIndex];\n    patched.splice(fromIndex, 1);\n    patched.splice(toIndex, 0, item);\n    return patched;\n  }\n}\n","import {inject, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport _ from 'lodash';\n\n@inject(DndService, EventAggregator)\nexport class ListContainer2 {\n  items = [\n    {id: '0', value: 'lorem'},\n    {id: '1', value: 'Lorem ipsum dolor sit amet. consectetur adipisicing elit.'},\n    {id: '2', value: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eos, tempore.'},\n    {id: '3', value: 'Lorem ipsum dolor sit amet, consectetur.'}\n  ];\n\n  intention;\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n  attached() {\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetIntention()),\n      this.ea.subscribe('dnd:didEnd', () => this.fulfillIntention())\n    ];\n  }\n\n  detached() {\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  resetIntention() {\n    this.intention = null;\n  }\n\n  updateIntention(targetId, beforeTarget) {\n    const {isProcessing, model} = this.dndService;\n    if (!isProcessing) return;\n    if (model.type !== 'orderItem2') return;\n\n    const {patchedItems} = this;\n    const targetIndex = _.findIndex(patchedItems, {id: targetId});\n    if (targetIndex < 0) return;\n\n    let originalIndex;\n    let currentIndex;\n    let nextIndex;\n    if (this.intention) {\n      originalIndex = this.intention.fromIndex;\n      currentIndex = this.intention.toIndex;\n    } else {\n      originalIndex = _.findIndex(patchedItems, {id: model.id});\n      if (originalIndex < 0) return;\n      currentIndex = originalIndex;\n    }\n\n    if (currentIndex < targetIndex) {\n      // grabbed item is currently above target\n      if (beforeTarget) {\n        nextIndex = targetIndex - 1;\n      } else {\n        nextIndex = targetIndex;\n      }\n    } else /* if (currentIndex > targetIndex) */ { // no need to check, currentIndex never === targetIndex\n      // grabbed item is currently below target\n      if (beforeTarget) {\n        nextIndex = targetIndex;\n      } else {\n        nextIndex = targetIndex + 1;\n      }\n    }\n\n    this.intention = {\n      fromIndex: originalIndex,\n      toIndex: nextIndex\n    };\n  }\n\n  fulfillIntention() {\n    if (!this.intention) return;\n    const {fromIndex, toIndex} = this.intention;\n\n    this.resetIntention();\n    if (fromIndex === toIndex) return;\n\n    const item = this.items[fromIndex];\n    this.items.splice(fromIndex, 1);\n    this.items.splice(toIndex, 0, item);\n  }\n\n  @computedFrom('items', 'intention')\n  get patchedItems() {\n    const {items, intention} = this;\n    if (!intention) return items;\n    const {fromIndex, toIndex} = this.intention;\n\n    let patched = [...items];\n    const item = this.items[fromIndex];\n    patched.splice(fromIndex, 1);\n    patched.splice(toIndex, 0, item);\n    return patched;\n  }\n}\n","export class Index {\n  sourceFilenames = [\n    'src/order-list-with-fixed-item-height/list-container.js',\n    'src/order-list-with-fixed-item-height/list-container.html',\n    'src/order-list-with-fixed-item-height/list-container.css',\n    'src/order-list-with-fixed-item-height/item.js',\n    'src/order-list-with-fixed-item-height/item.html',\n    'src/order-list-with-fixed-item-height/item.css',\n    'src/order-list-with-fixed-item-height/list-container2.js',\n    'src/order-list-with-fixed-item-height/list-container2.html',\n    'src/order-list-with-fixed-item-height/item2.js',\n    'src/order-list-with-fixed-item-height/item2.html'\n  ]\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport $ from 'jquery';\n\n@inject(DndService)\nexport class Item {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'orderItem',\n      item: this.item,\n      elementHeight: $(this.dndElement).height()\n    };\n  }\n\n  @computedFrom('item', 'dndService.isProcessing', 'dndService.model')\n  get draggingMe() {\n    const {item, dndService} = this;\n    return dndService.isProcessing &&\n           dndService.model.type === 'orderItem' &&\n           dndService.model.item === item;\n  }\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport $ from 'jquery';\n\n@inject(DndService)\nexport class Item2 {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'orderItem2',\n      id: this.item.id,\n      elementHeight: $(this.dndElement).height()\n    };\n  }\n\n  @computedFrom('item', 'dndService.isProcessing', 'dndService.model')\n  get draggingMe() {\n    const {item, dndService} = this;\n    return dndService.isProcessing &&\n           dndService.model.type === 'orderItem2' &&\n           dndService.model.id === item.id;\n  }\n}\n","import {inject, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n@inject(DndService, EventAggregator)\nexport class ListContainer {\n  items = ['first', 'second', 'third', 'fourth'];\n  intention;\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetIntention()),\n      this.ea.subscribe('dnd:didEnd', () => this.resetIntention())\n    ];\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  resetIntention() {\n    this.intention = null;\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'orderItem';\n  }\n\n  dndHover(location) {\n    const {mouseEndAt, targetElementRect} = location;\n    const y = mouseEndAt.y - targetElementRect.y;\n    const {item, elementHeight} = this.dnd.model;\n\n    const idx = this.items.indexOf(item);\n    if (idx < 0) return;\n\n    // we have zero margin between item elements.\n    // otherwise has to do (y / (margin + elementHeight))\n    const newIdx = Math.floor(y / elementHeight);\n    this.intention = {fromIndex: idx, toIndex: newIdx};\n  }\n\n  dndDrop() {\n    if (!this.intention) return;\n    const {fromIndex, toIndex} = this.intention;\n    if (fromIndex === toIndex) return;\n\n    const item = this.items[fromIndex];\n    this.items.splice(fromIndex, 1);\n    this.items.splice(toIndex, 0, item);\n  }\n\n  @computedFrom('items', 'intention')\n  get patchedItems() {\n    const {items, intention} = this;\n    if (!intention) return items;\n    const {fromIndex, toIndex} = this.intention;\n\n    let patched = [...items];\n    const item = this.items[fromIndex];\n    patched.splice(fromIndex, 1);\n    patched.splice(toIndex, 0, item);\n    return patched;\n  }\n}\n","import {inject, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport _ from 'lodash';\n\n@inject(DndService, EventAggregator)\nexport class ListContainer2 {\n  items = [\n    {id: '0', value: 'first'},\n    {id: '1', value: 'second'},\n    {id: '2', value: 'third'},\n    {id: '3', value: 'fourth'}\n  ];\n\n  intention;\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetIntention()),\n      this.ea.subscribe('dnd:didEnd', () => this.resetIntention())\n    ];\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  resetIntention() {\n    this.intention = null;\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'orderItem2';\n  }\n\n  dndHover(location) {\n    const {mouseEndAt, targetElementRect} = location;\n    const y = mouseEndAt.y - targetElementRect.y;\n    const {id, elementHeight} = this.dnd.model;\n\n    const idx = _.findIndex(this.items, {id});\n    if (idx < 0) return;\n\n    // we have zero margin between item elements.\n    // otherwise has to do (y / (margin + elementHeight))\n    const newIdx = Math.floor(y / elementHeight);\n    this.intention = {fromIndex: idx, toIndex: newIdx};\n  }\n\n  dndDrop() {\n    if (!this.intention) return;\n    const {fromIndex, toIndex} = this.intention;\n    if (fromIndex === toIndex) return;\n\n    const item = this.items[fromIndex];\n    this.items.splice(fromIndex, 1);\n    this.items.splice(toIndex, 0, item);\n  }\n\n  @computedFrom('items', 'intention')\n  get patchedItems() {\n    const {items, intention} = this;\n    if (!intention) return items;\n    const {fromIndex, toIndex} = this.intention;\n\n    let patched = [...items];\n    const item = this.items[fromIndex];\n    patched.splice(fromIndex, 1);\n    patched.splice(toIndex, 0, item);\n    return patched;\n  }\n}\n","export function configure(config) {\n  config.globalResources([\n    './elements/display-source',\n    './elements/display-sources',\n    './elements/mark-down',\n    './elements/show-mark-down-file',\n    './value-converters/nav-section',\n    './value-converters/ends-with',\n    './attributes/if-not'\n  ]);\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Box {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'moveItem',\n      item: this.item\n    };\n  }\n\n  @computedFrom('item', 'item.x', 'item.y')\n  get positionCss() {\n    const x = (this.item && this.item.x) || 0;\n    const y = (this.item && this.item.y) || 0;\n\n    return {\n      left: x + 'px',\n      top: y + 'px'\n    };\n  }\n\n  @computedFrom('dndService.isProcessing', 'dndService.model')\n  get draggingMe() {\n    return this.dndService.isProcessing &&\n           this.dndService.model.item === this.item;\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Container {\n  items = [\n    {name: 'A', x: 20, y: 20},\n    {name: 'B', x: 50, y: 200},\n    {name: 'C', x: 200, y: 100}\n  ];\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'moveItem';\n  }\n\n  dndDrop(location) {\n    const {item} = this.dnd.model;\n    const {previewElementRect, targetElementRect} = location;\n    const newLoc = {\n      x: previewElementRect.x - targetElementRect.x,\n      y: previewElementRect.y - targetElementRect.y\n    };\n    item.x = newLoc.x;\n    item.y = newLoc.y;\n\n    // move the item to end of array, in order to show it above others\n    const idx = this.items.indexOf(item);\n    if (idx >= 0) {\n      this.items.splice(idx, 1);\n      this.items.push(item);\n    }\n  }\n}\n","export class Index {\n  sourceFilenames = [\n    'src/simple-move/container.js',\n    'src/simple-move/container.html',\n    'src/simple-move/container.css',\n    'src/simple-move/box.js',\n    'src/simple-move/box.html',\n    'src/simple-move/box.css'\n  ]\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Box {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this, {noPreview: true});\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'moveItem',\n      id: this.item.id\n    };\n  }\n\n  @computedFrom('item', 'item.x', 'item.y')\n  get positionCss() {\n    const x = (this.item && this.item.x) || 0;\n    const y = (this.item && this.item.y) || 0;\n\n    return {\n      left: x + 'px',\n      top: y + 'px'\n    };\n  }\n}\n","import {inject, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport _ from 'lodash';\n\n@inject(DndService, EventAggregator)\nexport class Container {\n  items = [\n    {id: 'a', name: 'A', x: 20, y: 20},\n    {id: 'b', name: 'B', x: 50, y: 200},\n    {id: 'c', name: 'C', x: 200, y: 100}\n  ];\n\n  intention;\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetIntention()),\n      this.ea.subscribe('dnd:didEnd', () => this.resetIntention())\n    ];\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'moveItem';\n  }\n\n  dndDrop(location) {\n    const {id} = this.dnd.model;\n    const {previewElementRect, targetElementRect} = location;\n    const newLoc = {\n      x: previewElementRect.x - targetElementRect.x,\n      y: previewElementRect.y - targetElementRect.y\n    };\n\n    const idx = _.findIndex(this.items, {id});\n    if (idx < 0) return;\n\n    const newItem = {...this.items[idx], ...newLoc};\n\n    // replace old item with new item\n    // add new item to the end\n    this.items.splice(idx, 1);\n    this.items.push(newItem);\n  }\n\n  dndHover(location) {\n    const {id} = this.dnd.model;\n    const {previewElementRect, targetElementRect} = location;\n    const newLoc = {\n      x: previewElementRect.x - targetElementRect.x,\n      y: previewElementRect.y - targetElementRect.y\n    };\n\n    const item = _.find(this.items, {id});\n    if (!item) return;\n\n    this.intention = {id, x: newLoc.x, y: newLoc.y};\n  }\n\n  resetIntention() {\n    this.intention = null;\n  }\n\n  @computedFrom('items', 'intention')\n  get patchedItems() {\n    const {items, intention} = this;\n    if (!intention) return items;\n\n    let patched = _.reject(items, {id: intention.id});\n    const item = _.find(this.items, {id: intention.id});\n\n    if (item) {\n      // always show current moving item on top\n      patched.push({...item, x: intention.x, y: intention.y});\n    }\n\n    return patched;\n  }\n}\n","export class Index {\n  sourceFilenames = [\n    'src/simple-move-hover-no-preview/container.js',\n    'src/simple-move-hover-no-preview/container.html',\n    'src/simple-move-hover-no-preview/container.css',\n    'src/simple-move-hover-no-preview/box.js',\n    'src/simple-move-hover-no-preview/box.html',\n    'src/simple-move-hover-no-preview/box.css'\n  ]\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Box {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'moveItem',\n      item: this.item\n    };\n  }\n\n  @computedFrom('item', 'item.x', 'item.y')\n  get positionCss() {\n    const x = (this.item && this.item.x) || 0;\n    const y = (this.item && this.item.y) || 0;\n\n    return {\n      left: x + 'px',\n      top: y + 'px'\n    };\n  }\n}\n","export class Container {\n  items = [\n    {name: 'A', x: 20, y: 20},\n    {name: 'B', x: 50, y: 200},\n    {name: 'C', x: 200, y: 100}\n  ];\n}\n","export class Index {\n  sourceFilenames = [\n    'src/simple-move-step-1/container.js',\n    'src/simple-move-step-1/container.html',\n    'src/simple-move-step-1/container.css',\n    'src/simple-move-step-1/box.js',\n    'src/simple-move-step-1/box.html',\n    'src/simple-move-step-1/box.css'\n  ]\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Box {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'moveItem',\n      item: this.item\n    };\n  }\n\n  @computedFrom('item', 'item.x', 'item.y')\n  get positionCss() {\n    const x = (this.item && this.item.x) || 0;\n    const y = (this.item && this.item.y) || 0;\n\n    return {\n      left: x + 'px',\n      top: y + 'px'\n    };\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Container {\n  items = [\n    {name: 'A', x: 20, y: 20},\n    {name: 'B', x: 50, y: 200},\n    {name: 'C', x: 200, y: 100}\n  ];\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'moveItem';\n  }\n\n  dndDrop(location) {\n    const {item} = this.dnd.model;\n    const {previewElementRect, targetElementRect} = location;\n    const newLoc = {\n      x: previewElementRect.x - targetElementRect.x,\n      y: previewElementRect.y - targetElementRect.y\n    };\n    item.x = newLoc.x;\n    item.y = newLoc.y;\n\n    // move the item to end of array, in order to show it above others\n    const idx = this.items.indexOf(item);\n    if (idx >= 0) {\n      this.items.splice(idx, 1);\n      this.items.push(item);\n    }\n  }\n}\n","export class Index {\n  sourceFilenames = [\n    'src/simple-move-step-2/container.js',\n    'src/simple-move-step-2/container.html',\n    'src/simple-move-step-2/container.css',\n    'src/simple-move-step-2/box.js',\n    'src/simple-move-step-2/box.html',\n    'src/simple-move-step-2/box.css'\n  ]\n}\n","import {inject} from 'aurelia-framework';\nimport {BoundViewFactory, ViewSlot, templateController} from 'aurelia-templating';\nimport {If} from 'aurelia-templating-resources';\n\n@templateController\n@inject(BoundViewFactory, ViewSlot)\nexport class IfNotCustomAttribute extends If {\n  constructor(viewFactory, viewSlot) {\n    super(viewFactory, viewSlot);\n  }\n\n  valueChanged(newValue) {\n    super.valueChanged(!newValue);\n  }\n}\n","import {bindable} from 'aurelia-framework';\n\nexport class DisplaySource {\n  @bindable filename;\n  fileContent;\n\n  bind() {\n    this.reloadContent();\n  }\n\n  filenameChanged() {\n    this.reloadContent();\n  }\n\n  reloadContent() {\n    this.fileContent = null;\n    require([`text!../${this.filename}`], content => this.fileContent = content);\n  }\n\n}\n","import {bindable} from 'aurelia-framework';\n\nexport class DisplaySources {\n  @bindable filenames;\n  selected;\n  fullScreen = false;\n\n  bind() {\n    if (this.filenames && this.filenames.length) {\n      this.selected = this.filenames[0];\n    }\n  }\n}\n","import {bindable} from 'aurelia-framework';\nimport showdown from 'showdown';\n\nexport class MarkDown {\n  @bindable value;\n\n  constructor() {\n    this.converter = new showdown.Converter();\n  }\n\n  valueChanged(newValue, oldValue) {\n    this.html = this.converter.makeHtml(newValue);\n  }\n}\n\n","import {bindable} from 'aurelia-framework';\n\nexport class ShowMarkDownFile {\n  @bindable filename;\n  markdown = '';\n\n  bind() {\n    this.reloadContent(this.filename);\n  }\n\n  filenameChanged(newFilename) {\n    this.reloadContent(newFilename);\n  }\n\n  reloadContent(filename) {\n    this.markdown = '';\n    require([`text!${filename}`], content => this.markdown = content);\n  }\n}\n","import _ from 'lodash';\n\nexport class EndsWithValueConverter {\n  toView(str, subfix) {\n    return _.endsWith(str, subfix);\n  }\n}\n\n","import _ from 'lodash';\n\nexport class NavSectionValueConverter {\n  toView(navs, section) {\n    return _.filter(navs, n => _.get(n, 'settings.section') === section);\n  }\n\n}\n\n"],"sourceRoot":".."}